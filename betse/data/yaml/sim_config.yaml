%YAML 1.1
---
# Default BETSE simulation configuration file.
#
# The following settings can be changed to customize simulations in BETSE. When
# editing the file, note that it is essential that the line indentations (tabs)
# are maintained in their current order, and that only variable assignments are
# changed. Variable names must not be changed. Comments are prefixed by "#" and
# may be altered.
#
# Note that each BETSE simulation requires an initialization run. The
# initialization is required to ensure that a simulation begins with a system in
# a steady state. Each subsequent simulation depends on an initialization run
# specific to the cell geometry and initialized parameters.
#
# Note: parameters listed under the "INTERNAL USE ONLY" section should be
# modified only with care.
#
# Pathnames
# ----------
# For portability, files and directories are configured below as relative rather
# than absolute pathnames (e.g., as "sim_init.betse" rather than
# "/Users/iamawesome/my_sim/sim_init.betse"). Such pathnames are relative to the
# directory containing this file. This allows the directory to be safely moved
# without breaking existing tissue simulations.
#
# A Note on YAML
# ----------
# This file is formatted according to the YAML ([Y]AML [A]in't [M]arkup
# [L]anguage) standard. YAML is a human-readable data serialization format
# useful for configuration files -- like this one. For details, please see
# https://en.wikipedia.org/wiki/YAML.

#-----------------------------------------------------------------------------------------------------------------------
# FILE HANDLING
#------------------------------------------------------------------------------------------------------------------------
# Settings specific to saving simulations and results output


init file saving:

    directory: init         # directory to load/save init run

    file: init.betse        # filename to load/save init run

    worldfile: world.betse      # filename to load/save cell cluster


sim file saving:

    directory: init/sims # directory to load/save sim run

    file: sim_1.betse    # filename to load/save sim run

results file saving:

    directory: init/results  # directory to load/save data, plots, and animations

# -----------------------------------------------------------------------------
# INITIALIZATION SETTINGS
# -----------------------------------------------------------------------------
# Settings specific to the initialization


init time settings:

  time profile: 'custom init'  # time profile for the init
                               # choices are: 'initialize' or 'custom init'
                               # settings for 'custom init' time-profile can be
                               # edited below.

  total time: 10               # time for the initialization run [s]
                               # recommend 10s of initialization.
                               # note this is overriden if you are using 'cutom init' with settings
                               # defined below.

  custom init time profile:     # set the following params for more control over init run
                                # To use these over defaults call 'custom init' in time profile
                                # setting above.

    time step: 1.0e-3           # time step-size [s] (recommended at least 1.0e-3 or smaller)
    total time: 1.0             # end time [s] (recommend 3 seconds or more)
    sampling rate: 0.1          # time interval to sample data [s] (at least time-step or larger)

# ---------------------------------------------------------------------------------------------------------------------
# SIMULATION SETTINGS
# ---------------------------------------------------------------------------------------------------------------------

automatically run initialization: True     # If init file is not found, do you wish to
                                           # automatically run an init?

sim time settings:

  time profile: 'custom sim'    # time profile for the sim run
                                # choices are 'simulate somatic', 'simulate excitable'
                                # or 'custom sim'

  total time: 5            # set the total time for the sim run [s]
                           # recommend 1 s to 30 min for 'simulate_somatic' time profile and
                           # 0.01 to 5 seconds for 'simulate_excitable' time profile.
                           # Note this is over-ridden if you are using 'custom sim'


  custom sim time profile:  # set the following params for more control over sim run
                            # To use, call 'custom sim' in time profile setting above.

    time step: 1.0e-3       # time step-size [s] (recommended 1.0e-3 or smaller)

    total time: 1.0         # time to end sim run [s]

    sampling rate: 0.1      # period to sample data [s] (at least time step or larger)

# ---------------------------------------------------------------------------------------------------------------------
# GENERAL OPTIONS
# ---------------------------------------------------------------------------------------------------------------------
# Specify general options to be used in the init and sim runs
# File synch warning: you can't change any of these general options after running 'betse seed'.

general options:

  comp grid size: 30         # grid used in computation of environmental parameters (keep smaller than 50)
  plot grid size: 50                 # grid used for interpolated data plotting (recommend 60 to 100)

  simulate extracellular spaces: False     # include extracellular spaces and heterogeneous cell Vmem in sim?

  ion profile: basic   # ion profile options:
                                # 'basic' (Na+, K+, and proteins-)
                                # 'basic_Ca' (Na+, K+, Ca2+, and proteins-)
                                # 'animal' (Na+, K+, Cl-, Ca2+, H+ and proteins-)
                                # 'invertebrate' (Na+, K+, Cl-, Ca2+, H+ and proteins-)
                                # 'customized' (user-specified settings)
                                # each profile also contains a charge-balance anion, M-
                                # In 'animal' and 'invertebrate' profiles
                                # M- represents HCO3- (bicarbonate).





  customized ion profile:      # set user-defined initial values of ion concentrations
                               # for the initialization run
                               # note both extracellular and cytosolic levels of all
                               # ions must add up to a net positive charge.
                               # this is because an anion (M-) is used to create
                               # charge neutrality in each compartment.

    extracellular Na+ concentration: 145.0          # extracellular sodium [mmol/L]
    extracellular K+ concentration: 5.0             # extracellular potassium [mmol/L]
    extracellular Cl- concentration: 105.0          # extracellular chloride [mmol/L]
    extracellular Ca2+ concentration: 1.0           # extracellular calcium [mmol/L]
    extracellular H+ concentration: 3.98e-5         # extracellular protons [mmol/L]
    extracellular protein- concentration: 9.0       # extracellular protein [mmol/L]

    cytosolic Na+ concentration: 13.0                # intracellular sodium [mmol/L]
    cytosolic K+ concentration: 145.00              # intracellular potassium [mmol/L]
    cytosolic Cl- concentration: 10.0                # intracellular chloride [mmol/L]
    cytosolic Ca2+ concentration: 1.0e-3            # intracellular calcium [mmol/L]
    cytosolic H+ concentration: 6.31e-5             # intracellular protons [mmol/L]
    cytosolic protein- concentration: 138.0         # intracellular protein [mmol/L]

    endoplasmic reticulum Ca2+: 0.01             # starting level of Ca2+ in the ER store [mmol/L]

# ---------------------------------------------------------------------------------------------------------------------
# WORLD OPTIONS
# ---------------------------------------------------------------------------------------------------------------------
# The 'world' refers to cell geometric properties, the size of the cluster, and
# the properties of the environment such as size and temperature.
# These variables are common to both init and sim runs.
# All of these world variables will be created in the init and apply
# to all sims running from the init.
# File sync warning: you can't change any of these 'world options' after running 'betse seed'.

world options:

  world size: 200e-6      # dimension of the square world space [m]
                          # the world is square with x = y.
                          # recommended range 80e-6 to 1500e-6 m

  cell radius: 5e-6       # radius of single cell [m]
                          # recommended range 3.5e-6 to 20e-6 m

  cell height: 5.0e-6     # the height of a cell in the z-direction [m]
                          # used in cell volume and surface area calculations
                          # recommended range 1.0e-6 to 10e-6 m

  cell spacing: 26.0e-9       # the spacing between cells [m]
                              # recommended 26.0e-9 m for animal cells
                              # 1.0e-6 for plant cells and animal cells with ecm

  lattice disorder: 0.8       # noise level for the lattice
                              # recommended range 0 to 0.9
                              # this randomizes lattice points from a
                              # square grid. If equal to 0 a perfect
                              # square grid is created.

  temperature: 310            # World temperature [K]

  fluid flow:

    include fluid flow: False     # calculate fluid flow between cells and in extracellular environment?


  channel electroosmosis:  # membrane pump/channel movement via electrophoresis/osmosis

    turn on: False        # turn on electroosmosis of pumps and channels (Note: memory intensive option!)

  deformation:

    turn on: False       # deformation of the structure under the action of osmotic and electrostatic pressure

    time dependent: False  # deformation is time-dependent (True) or assumed to reach steady-state with each step (False)
                            # upon simulation, will check for appropriate world size and time set for your parameters.


#-----------------------------------------------------------------------------------------------------------------------
# TISSUE DESIGNATION
#-----------------------------------------------------------------------------------------------------------------------
# Tissues are user-defined regions within the cluster to which specific base membrane diffusion profiles,
# interventions, and individualized dynamics (e.g voltage gated channels) can be applied.
# Tissues can be gap-junction connected or separated from other tissues.
# Cluster shape and individual tissues can be defined by bitmaps, or specified manually by cell number.
#
# File synch warning: Tissues must be designed at the time of the 'betse init' command. If bitmaps or tissue profiles
# are changed in the config file after running an init, the init must be run over again with the new settings.
#
# For related options, see also the "variable settings" section below.

tissue profile definition:
    # Global geometry mask to which all tissue profile bitmaps specified below
    # will be clipped.
    clipping:
        # Bitmap whose colored pixel area defines this mask.
        bitmap:
            # Absolute or relative bitmap path. If relative (i.e., *NOT*
            # prefixed by a directory separator), the path is relative to the
            # directory containing this configuration file.
            #
            # If "None", then clipping will be disabled altogether, in which
            # case the cell population will extend over the entire environment.
            file: geo/circle/circle_base.png

    # Will the tissue and cut profiles listed below be applied as is ("True")
    # or replaced with empty lists and hence ignored entirely ("False")?
    #
    # This does *NOT* apply to the clipping mask defined above, which may be
    # disabled by setting "file:' to "None" above.
    profiles enabled: True

    # List of profiles identifying cells to be associated with particular
    # properties, applied in the order listed below.
    # Tissue profiles are applied in the order defined below. When multiple
    # profiles apply to the same cell, options defined by later profiles
    # override options defined by earlier profiles for that cell.
    tissue profiles:
        # Example default tissue profile, providing sensible defaults for all
        # options *NOT* defined by subsequent profiles. (Options defined by
        # subsequent profiles take precedence over those defined here, due to
        # this being the first listed profile.)
        - name: tissue         # unique profile name
          insular: False       # tissue has gj connecting within tissue but not between tissues (True)

          #FIXME: The "cavity" designation is no longer required and should be
          #excised; the "cut" designation should be split out into a new (and
          #vastly simplified) list of "cut profiles". Ultimate Truth Is Revealed.

          designation: None    # special instructions for making the profile:
                                  #'cavity' or 'cuts' (cavity specified in makeWorld)

          Dm_Na: 1.0e-18       # Na+ membrane diffusion constant [m2/s]
          Dm_K: 15.0e-18       # K+ membrane diffusion constant [m2/s]
          Dm_Cl: 2.0e-18       # Cl- membrane diffusion constant [m2/s]
          Dm_Ca: 1.0e-18       # Ca2+ membrane diffusion constant [m2/s]
          Dm_H: 1.0e-18        # H+ membrane diffusion constant [m2/s]
          Dm_M: 1.0e-18        # M- membrane diffusion constant [m2/s]
          Dm_P: 0.0            # proteins membrane diffusion constant [m2/s]

          # Subset of cells to which this tissue profile applies.
          cell targets:
              # Mutually exclusive choice of subset. This must be one of the
              # following strings:
              #
              # * "all", uniformly applying this tissue profile to all cells.
              # * "bitmap", only matching cells in this bitmap's colored area.
              # * "indices", only matching cells with the listed indices.
              # * "random", only matching a random subset of cells.
              #
              # Only the specified choice will be applied. All others will be
              # ignored.
              type: all

              # Unless "type: bitmap" above, this is ignored.
              bitmap:
                  # Absolute or relative bitmap path.
                  file: geo/circle/circle_base.png

              # Unless "type: indices" above, this is ignored.
              #
              # List of the indices of all cells to which this tissue profile
              # will be explicitly applied. This must be a list of positive
              # integers.
              indices: [3, 14, 15, 9, 265]

              # Unless "type: random" above, this is ignored.
              #
              # Percentage of the total number of cells to which this tissue
              # profile will be randomly applied. This must be an integer
              # ranging from 0 to 100 (e.g., "50" randomly applies this profile
              # to 50% of all cells).
              random: 50

        # Example tissue profile for a small cluster of healthy cells.
        - name: spot
          designation: None
          insular: False

          Dm_Na: 1.0e-18       # Na+ membrane diffusion constant [m2/s]
          Dm_K: 1.0e-18        # K+ membrane diffusion constant [m2/s]
          Dm_Cl: 1.0e-18       # Cl- membrane diffusion constant [m2/s]
          Dm_Ca: 1.0e-18       # Ca2+ membrane diffusion constant [m2/s]
          Dm_H: 1.0e-18        # H+ membrane diffusion constant [m2/s]
          Dm_M: 1.0e-18        # M- membrane diffusion constant [m2/s]
          Dm_P: 0.0            # proteins membrane diffusion constant [m2/s]

          cell targets:
              type: bitmap
              bitmap: { file: geo/circle/spot.png }
              indices: [3, 14, 15, 9, 265]
              random: 50

        # Example tissue profile for a large ring of healthy cells.
        - name: ring
          designation: None
          insular: False

          Dm_Na: 1.0e-18       # Na+ membrane diffusion constant [m2/s]
          Dm_K: 15.0e-18       # K+ membrane diffusion constant [m2/s]
          Dm_Cl: 2.0e-18       # Cl- membrane diffusion constant [m2/s]
          Dm_Ca: 1.0e-18       # Ca2+ membrane diffusion constant [m2/s]
          Dm_H: 1.0e-18        # H+ membrane diffusion constant [m2/s]
          Dm_M: 1.0e-18        # M- membrane diffusion constant [m2/s]
          Dm_P: 0.0            # proteins membrane diffusion constant [m2/s]

          cell targets:
              type: bitmap
              bitmap: { file: geo/circle/ring.png }
              indices: [3, 14, 15, 9, 265]
              random: 50

        # Example tissue profile for a small cluster of wounded cells.
        - name: wound
          designation: cuts
          insular: False

          Dm_Na: 1.0e-18       # Na+ membrane diffusion constant [m2/s]
          Dm_K: 150.0e-18      # K+ membrane diffusion constant [m2/s]
          Dm_Cl: 2.0e-18       # Cl- membrane diffusion constant [m2/s]
          Dm_Ca: 1.0e-18       # Ca2+ membrane diffusion constant [m2/s]
          Dm_H: 1.0e-18        # H+ membrane diffusion constant [m2/s]
          Dm_M: 1.0e-18        # M- membrane diffusion constant [m2/s]
          Dm_P: 0.0            # proteins membrane diffusion constant [m2/s]

          cell targets:
              type: bitmap
              bitmap: { file: geo/circle/wedge.png }
              indices: [3, 14, 15, 9, 265]
              random: 50

    #FIXME: Enable me, please. This is currently ignored. Bugaboo, hullaballoo!

    # Profile identifying cells to be permanently "cut" (i.e., removed) from
    # the cell population. Note that this is ignored unless the "cutting event"
    # declared below is also enabled.
    cut profile:
        # Example cut profile for a small cluster of cells.
        name: wound     # unique profile name

        # Subset of cells to be cut.
        cell targets:
            type: bitmap
            bitmap: { file: geo/circle/wedge.png }
            indices: [3, 14, 15, 9, 265]
            random: 50

#-----------------------------------------------------------------------------------------------------------------------
# BOUNDARY DESIGNATION
#-----------------------------------------------------------------------------------------------------------------------
boundary profile definition:
    #FIXME: Can this reasonably be changed without re-seeding or -initting? If
    #so, move to the "variables:" dict below; else, contemplate the mysteries.

    # Are the global environmental boundaries closed (True) or open (False)?
    closed boundary: False

#-----------------------------------------------------------------------------------------------------------------------
# TARGETED INTERVENTIONS
#-----------------------------------------------------------------------------------------------------------------------
# Targeted interventions are scheduled changes that can be applied to cells in the cluster by linking to a defined
# tissue profile.
# Targeted interventions only occur durring sim runs, not durring and init.

# Targeted intervention settings can be altered between seed, init and sim without affecting outcome (no synch issues).

change Na mem:       # Change the membrane permeability to Na+
    event happens: False        # turn the event on (True) or off (False)
    change start: 1.0                # time to start change [s]
    change finish: 4.0               # time to end change and return to original [s]
    change rate: 0.5                 # rate of change [s]
    multiplier: 50.0                # factor to multiply base level
    function: None               # spatial function:'gradient_x','gradient_y', 'gradient_r' or 'None'
    apply to: ['wound']          # name(s) of the tissue profile(s) to apply intervention to

change K mem:       # Change the membrane permeability to K+
    event happens: False              # turn the event on (True) or off (False)
    change start: 1.0                   # time to start change [s]
    change finish: 2.0                 # time to end change and return to original [s]
    change rate: 0.5                    # rate of change [s]
    multiplier: 50.0                    # factor to multiply base level
    function: None                   # spatial function:'gradient_x','gradient_y', 'gradient_r' or 'None'
    apply to: ['wound']     # name(s) of the tissue profile(s) to apply intervention to

change Cl mem:      # Change the membrane permeability to Cl-
    event happens: False              # turn the event on (True) or off (False)
    change start: 1.0                  # time to start change [s]
    change finish: 4.0                 # time to end change and return to original [s]
    change rate: 0.5                    # rate of change [s]
    multiplier: 10                    # factor to multiply base level
    function: None                # spatial function:'gradient_x','gradient_y', 'gradient_r' or 'None'
    apply to: ['wound']     # name(s) of the tissue profile(s) to apply intervention to

change Ca mem:       # Change the membrane permeability to Ca2+
    event happens: False              # turn the event on (True) or off (False)
    change start: 2.0                  # time to start change [s]
    change finish: 8.0                 # time to end change and return to original [s]
    change rate: 1                    # rate of change [s]
    multiplier: 10                    # factor to multiply base level
    function: None              # spatial function:'gradient_x','gradient_y', 'gradient_r' or 'None'
    apply to: ['tissue']     # name(s) of the tissue profile(s) to apply intervention to

produce IP3:        # Schedule cell production of IP3
    event happens: False              # turn the event on (True) or off (False)
    change start: 1                   # time to start IP3 production [s]
    change finish: 4                 # time to end IP3 production [s]
    change rate: 1                    # rate of production ramp-up time [s]
    multiplier: 1e-3                  # maximum rate of production [mol/(s*m3)]
    function: None              # spatial function:'gradient_x','gradient_y', 'gradient_r' or 'None'
    apply to: ['wound']     # name(s) of the tissue profile(s) to apply intervention to


# Apply an external voltage to two edges of the environmental boundary if the
# "simulate extracellular spaces" option is enabled. (If that option is
# disabled, this event is simply ignored.)
apply external voltage:
    event happens: False            # turn the event on (True) or off (False)
    change start: 0.5                 # time event starts [s]
    change finish: 1.0               # time event finishes [s]
    change rate: 0.1                  # time to reach peak value [s]
    peak value: 0.100                 # peak value [V]

    # Environment boundary edge to apply positive voltage to. Valid values:
    # "top", "bottom", "left", and "right".
    boundary positive voltage: top

    # Environment boundary edge to apply negative voltage to.
    boundary negative voltage: bottom


break ecm junctions:     # break extracellular junctions between cells
    event happens: False     # turn the event on (True) or off (False)
    change start: 2.0        # time to start change [s]
    change finish: 7.0       # time to end change and return to original [s]
    change rate: 0.5         # rate of change [s]
    apply to: ['wound']      # tissue profile(s) to apply intervention to

cutting event:   # cut cells out of an initialized cluster at the beginning of a sim run
    event happens: True
    apply to: wound    # tissue profile to apply this to -- can only be one profile; no profile lists
    damaged membranes: True # are cell membranes damaged by cutting (and become leaky?)
    hurt level: 1e-6     # damaged membranes have: 'hurt level' x free diffusion constants

function properties:   # set properties of spatial functions which may be used in above:

  gradient_x:
      slope: 1.0        # rate of change of gradient per unit x-dimension
      offset: 0         # offset to all gradient values

  gradient_y:
      slope: 1.0        # rate of change of gradient per unit x-dimension
      offset: 0         # offset to all gradient values

  gradient_r:
      slope: 1.0        # radial gradient rate of change per unit radius
      offset: 0


# ----------------------------------------------------------------------------------------------------------------------
# DYNAMIC ION CHANNELS
# ----------------------------------------------------------------------------------------------------------------------
# Dynamic ion channels respond to simulation variables to change state (e.g. voltage gating)
# Specify dynamic ion channels expressed by certain cells in the cluster using links to tissue profiles.
# Dynamic ion channels only appear in sim runs (not in init).
# Dynamic ion channel settings can be altered between seed, init and sim without affecting outcome.

voltage gated Na+:
    turn on: False             # voltage gated sodium channel?
    apply to: ['tissue']       # name(s) of the tissue profile(s) to apply it to

voltage gated K+:              # voltage gated potassium channel?
    turn on: False
    apply to: ['tissue']       # name(s) of the tissue profile(s) to apply it to

voltage gated Ca2+:            # voltage gated calcium channel?
    turn on: False
    apply to: ['tissue']         # name(s) of the tissue profile(s) to apply it to

calcium gated K+:              # calcium gated potassium channel ?
    turn on: False
    apply to: ['tissue']         # name(s) of the tissue profile(s) to apply it to

Ca dynamics:                   # include full calcium dynamics in the situation?
    turn on: False               # this creates an endoplasmic reticulum (ER) in each cell and
    apply to: ['tissue']          # IP3-mediated calcium release from the ER
                                # note this only works for an ion profile with Ca2+ ions

    include:

        calcium regulation: False             # let the IP3 receptor be co-regulated by Ca2+ levels?

# ----------------------------------------------------------------------------------------------------------------------
# GLOBAL INTERVENTIONS
# ----------------------------------------------------------------------------------------------------------------------
# Schedule changes to globally-applied simulation variables such as membrane permeabilities,
# pump and gap junction function and environmental concentrations of ions.
# Global intervention settings can be changed at any time between seed, init and sim (no synch issues).

# The following global changes affect the entire cluster durring a sim run (not an init):

change K env:       # Change the environmental concentration of K+

  event happens: False      # turn the event on (True) or off (False)
  change start: 1.00           # time to start change [s]
  change finish: 12.00         # time to end change and return to original [s]
  change rate: 1.0            # rate of change [s]
  multiplier: 20            # factor to multiply base level

change Cl env:       # Change the environmental concentration of K+

  event happens: False      # turn the event on (True) or off (False)
  change start: 5.0           # sim time to start change [s]
  change finish: 25.0         # sim time to end change and return to original [s]
  change rate: 2.0            # rate of change [s]
  multiplier: 10             # factor to multiply base level

change Na env:       # Change the environmental concentration of K+

  event happens: False     # turn the event on (True) or off (False)
  change start: 1          # time to start change [s]
  change finish: 9        # time to end change and return to original [s]
  change rate: 1           # rate of change [s]
  multiplier: 5            # factor to multiply base level

change morphogen:       # Change the environmental concentration of morphogen (if morphogen is activated)

  event happens: False     # turn the event on (True) or off (False)
  change start: 1.0          # time to start change [s]
  change finish: 7.0        # time to end change and return to original [s]
  change rate: 1.0           # rate of change [s]
  concentration: 1e-3      # concentration to introduce [mmol/L]

change temperature:

  event happens: False      # turn the event on (True) or off (False)
  change start: 1           # time to start change [s]
  change finish: 9         # time to end change and return to original [s]
  change rate: 0.5         # rate of change [s]
  multiplier: 0.5          # factor to multiply base level

block gap junctions:     # block the gap junctions between cells

  event happens: False      # turn the event on (True) or off (False)
  change start: 2.00        # time to start change [s]
  change finish: 6.00       # time to end change and return to original [s]
  change rate: 1.5         # rate of change [s]
  random fraction: 100     # percentage of gap junctions randomly targeted

block NaKATP pump:

  event happens: False      # turn the event on (True) or off (False)
  change start: 5           # time to start change [s]
  change finish: 25         # time to end change and return to original [s]
  change rate: 1.0          # rate of change [s]

block HKATP pump:

  event happens: False     # turn the event on (True) or off (False)
  change start: -1          # time to start change [s]
  change finish: 2         # time to end change and return to original [s]
  change rate: 1.0         # rate of change [s]

block VATP pump:

  event happens: False     # turn the event on (True) or off (False)
  change start: -1          # time to start change [s]
  change finish: 1         # time to end change and return to original [s]
  change rate: 2.0         # rate of change [s]

#-----------------------------------------------------------------------------------------------------------------------
# VARIABLE SETTINGS
#-----------------------------------------------------------------------------------------------------------------------
# These settings can be changed in between seed, init and sim runs, meaning there are no synchronization issues.

variable settings:

  default tissue name: base   # name of cells to which no profile is applied

  default tissue properties:     # specify the base membrane diffusion constants below
                              # (this is an easy way to control resting Vmem of cells)
      Dm_Na: 1.0e-18       # Na+ membrane diffusion constant [m2/s]
      Dm_K: 15.0e-18       # K+ membrane diffusion constant [m2/s]
      Dm_Cl: 2.0e-18       # Cl- membrane diffusion constant [m2/s]
      Dm_Ca: 1.0e-18       # Ca2+ membrane diffusion constant [m2/s]
      Dm_H: 1.0e-18        # H+ membrane diffusion constant [m2/s]
      Dm_M: 1.0e-18        # M- membrane diffusion constant [m2/s]
      Dm_P: 0.0            # proteins- membrane diffusion constant [m2/s]


  morphogen properties:  # specify the properties of an auxillary chemical

      include morphogen: False     # include electrodiffusion of an auxillary chemical substance?
      Dm: 1.0e-15        # morphogen membrane diffusion coefficient [m2/s]
      Do: 1.0e-10         # morphogen free diffusion constant [m2/s]
      z: -1               # charge of morphogen (oxidation state)
      env conc: 1.0e-3        # initial concentration of morphogen in the environment [mmol/L]
      cell conc: 1.0e-3    # initial concentration of morphogen in the cell network [mmol/L]
      ion channel target: None    # morphogen ion channel target ('None', 'Na', 'K', 'Cl','Ca')
      target Hill coefficient: 1.0e-3   # half-max value for channel opening with respect to concentration
      target Hill exponent: 1.0         # Hill exponent; affects shape of opening-vs-concentration curve
      peak channel opening: 1e-16        # max mem diffusion constant for target ion when channel fully open
      acts extracellularly: False         # acts via extracellular (True) or intracellular (False) concentration?
      active pumping:                     # use ATP driven pumps to actively move morphogen?
        turn on: False                     # turn pumping on?
        pump to cell: True       # pump from extracellular space to cell (True) or reverse (False)?
        maximum rate: 1.0e-4              # maximum rate constant of pumping [mol/s]

  optional pumps:


    HKATPase pump: False     # include the HK-ATPase pump in the simulation?
                             # only works for an ion profile with H+ ions (animal or invertebrate)
                             # options True or False (case sensitive)

    VATPase pump: False    # include the plasma membrane V-ATPase pump?
                              # only works for an ion profile with H+ ions (animal or invertebrate)
                              # options True or False (case sensitive)

  flow and deformation:

    gravity: False             # include a global force of gravity acting in the -y direction?

    water viscocity: 1e-3      # viscocity of water [Pa s] (applies to ease of flow)

    include osmotic pressure: False    # include osmotic pressure in flow & deformation?

    include electrostatic pressure: False   # include electrostatic pressure in flow and deformation?

    membrane water conductivity: 1e-9   # mem conductivity for osmotic water inflow (aquaporin fraction) (1e-5 to 1e-10)

    viscous damping: 0.01        # viscous damping of elastic waves in tissue (0.0 to 1.0; larger = higher damping)

    fixed cluster boundary: True   # are exterior cells of the cluster fixed (True) or free to move (False)?

    young modulus: 1e3         # Young's modulus (elastic modulus) of individual cell [Pa] (1 kPa to 10 e6 Pa)


  channel electroosmosis:

    channel charge: -1         # charge of membrane channels

    pump charge: 1          # charge of pumps (controls direction they move in)

    membrane mobility: 1e-10    # mobility factor (diffusion constant) for pumps and channels [m2/s]

  noise:

    static noise level: 0    # level of variance in K+ leaks on cell membranes
                             # appropriate range 0 (all cells equivalent) to 10.0 (very high variation)

    dynamic noise: False      # is dynamic noise desired? Options True or False
                              # simulated as random-walk on cellular protein concentrations

    dynamic noise level: 1e-7     # level of dynamic noise
                                  # appropriate range 0 to 1e-6
                                  # Note high values may cause simulation instability

  gap junctions:

    gap junction surface area: 1.0e-8 # surface area of gj as fraction of cell area (1.0e-2 or smaller)

    voltage sensitive gj: False    # gj close with voltage difference between cells?

    gj voltage threshold: 15e-3    # cell-cell voltage at which gj close [V]
                                 # suggested range from 10e-3 to 80e-3 V

    gj voltage window: 15e-3      # range over which gj goes from open to shut
                                  # with the gj voltage threshold as midpoint [V]
                                  # suggested range from 5e-3 to 50e-3

    gj flux sensitive: False      # gj conductivity increases with increasing current (Note: memory intensive!)


  tight junction scaling: 1.0e-5   # factor by which tight junctions scale free-diffusion

  tight junction relative diffusion:  # relative values for tight junction ion permeability:

    Na:  1
    K: 1
    Cl: 1
    Ca: 1
    H: 1
    M: 1
    P: 1

  adherens junction scaling: 1.0e-1   # factor by which cell-cell junctions scale free-diffusion

  cavity open: False  # do internally cut cavities have free env boundaries (True) or sealed by TJ (False)?

  use Goldman calculator: False    # calculate alternative Vmem using GHK equation for model params and plot results?


# ----------------------------------------------------------------------------------------------------------------------
# RESULTS
# ----------------------------------------------------------------------------------------------------------------------
# Configure results viewing and saving options for simulations.
# All of the parameters under 'results options' can be altered at any time between seed, init and sim.

results options:


  turn all plots off: False      # This option allows you to turn all plots on/off
                                 # note this doesn't turn plot while solving off.
                                 # options True or False (case sensitive)

  plot while solving: True       # shows a continuously updating 2d plot of cell Vmems
                                 # while the sim run is computing
                                 # options True or False (case sensitive)

  save solving plot: True      # save the plot while solving figure
                                # as the sim progresses (as 300 dpi png
                                # in folder in the results directory)
                                # warning this can slow down simulations
                                # options True or False (case sensitive)

  automatically save plots: True     # autosave all still images (as 300 dpi pngs)
                                     # to the results directory
                                     # options True or False (case sensitive)

  create all animations: True     # use this setting to quickly toggle creation of all
                                  # animations. If False, no animations created. If
                                  # true, all animations created.
                                  # options True or False (case sensitive)

  save animations: True           # save all animations as png sequences in animation-specific folders
                                   # inside the results directory
                                   # options True or False (case sensitive)

  export data to file: True        # export all stored data for the plot cell to a
                                   # comma-delimited (csv) text file
                                   # options True or False (case sensitive)

  enumerate cells: False         # number the cells on 2D plots with their simulation index?
                                 # this can help to decide which cell you are interested in getting
                                 # specific data on (for single cell graphs plotted over time).
                                 # options True or False (case sensitive)
                                 # warning should not be used for world sizes over 200 um.

  plot cell index: 0              # State the cell index to use for single-cell time plots
                                  # the index of cells can be seen using enumerate cells feature.

  plot single cell graphs: True   # plot graphs of concentration and voltage for a single cell
                                  # (the plot cell) as a function of simulation time

  show cells: True                # if True, plots and animations show individual cells,
                                  # each displayed with color-coded data. If False,
                                  # plots and animations show data as interpolated over a 2D
                                  # surface so individual cells are not shown.
                                  # Note if working with a large cluster (>500 um) do not
                                  # show cells (set to False) as it will plot very slowly.
                                  # options True or False (case sensitive)

  overlay currents: False          # overlay electric current or concentration flux streamlines on 2d plotted data

  streamline density: 2.0         # for current plots, the density of streamlines. 0.5 to 5.0

  plot total current: True      # for currents and morphgen fluxing, if simululating extracellular spaces, plot
                                  # total current if true, plot gap junction current if false

  plot cutlines: True            # plot any scheduled cut-lines on the cell cluster plot as black regions

  plot masked geometry: True      # plot the geometry using the overall shape as a mask

  Vmem 2D:

    plot Vmem: True              # 2d plot of final vmem ?
    autoscale colorbar: True    # autoscale colorbar to min max of data set?
    max val: 10.0                # maximum colorbar value in mV
    min val: -70.0               # minimum colorbar value in mV

  Ca 2D:

    plot Ca: True                # 2d plot of final cell calcium ?
    autoscale colorbar: True    # autoscale colorbar to min max of data set?
    max val: 1000                 # maximum colorbar value in nmol/L
    min val: 0                    # minimum colorbar value in nmol/L

  IP3 2D:

    plot IP3: True               # 2d plot of final cIP3 ?
    autoscale colorbar: True     # autoscale colorbar to min max of data set?
    max val: 100                  # maximum colorbar value in umol/L
    min val: 0                    # minimum colorbar value, in umol/L

  Morpho 2D:

    plot Morpho: True               # 2d plot of voltage sensitive dye in cell collective?
    autoscale colorbar: True     # autoscale colorbar to min max of data set?
    max val: 1.0e-4                  # maximum colorbar value in umol/L
    min val: 0                     # minimum colorbar value in umol/L

  Vcell 2D:

    plot Vcell: True                # 2d plot of voltage in individual cells of the collective?
    autoscale colorbar: True       # autoscale colorbar to min max of data set?
    max val: 10                    # maximum colorbar value in mV
    min val: -70                   # minimum colorbar value in mV

  Venv 2D:

    plot Venv: True                # 2d plot of voltage in environmental spaces of the collective?
    autoscale colorbar: True       # autoscale colorbar to min max of data set?
    max val: 10                    # maximum colorbar value in mV
    min val: -70                   # minimum colorbar value in mV

  Charge 2D:

    plot Charge: True                # 2d plot of net ionic charge in collective?
    data type: GJ                 # data type can be 'GJ' or 'ECM' for intra or extracellular net charge
    autoscale colorbar: True       # autoscale colorbar to min max of data set?
    max val: 10                    # maximum colorbar value in mV
    min val: -70                   # minimum colorbar value in mV

  Efield 2D:

    plot Efield: True              # 2d plot of electric field
    data type: GJ                   # data type can be 'ECM' or 'GJ'
    overlay vector: True            # overlay a streamline plot of field direction?
    autoscale colorbar: True        # autoscale colorbar to min max of data set?
    max val: 900                   # maximum colorbar value in V/m
    min val: 0                      # maximum colorbar value in V/m

  Currents 2D:

    plot Currents: True               # 2d plot of net current flow in the collective?
    autoscale colorbar: True          # autoscale colorbar to min max of data set?
    max val: 150                    # maximum colorbar value [pA]
    min val: 0                        # minimum colorbar value [A]
    colormap: coolwarm                    # colorbar for the currents

  Pressure 2D:                      # 2D plot of pressure in the cluster

    plot Pressure: True
    autoscale colorbar: True
    max val: 15
    min val: -15

  Osmotic Pressure 2D:                      # 2D plot of osmotic pressure differential in the cluster

    plot Osmotic Pressure: True
    autoscale colorbar: True
    max val: 15
    min val: -15

  Velocity 2D:                      # 2D plot of electroosmotic fluid velocity in the cluster

    plot Velocity: True
    autoscale colorbar: True
    max val: 15
    min val: -15

  Electrostatic 2D:                      # 2D plot of electrostatic pressure in the cluster

    plot Electrostatic: True
    autoscale colorbar: True
    max val: 15
    min val: -15


  #---------Animations -------------------------------------------------------------------------------------------------

  Vmem Ani:

    animate Vmem: True           # 2d animation of vmem with time?
    autoscale colorbar: True    # autoscale colorbar to min max of data set?
    max val: 10.0                # maximum colorbar value in mV
    min val: -70.0               # maximum colorbar value in mV

  Ca Ani:

    animate Ca2+: True           # 2d animation of cell calcium with time ?
    autoscale colorbar: True    # autoscale colorbar to min max of data set?
    max val: 1000                # maximum colorbar value in nmol/L
    min val: 0                   # minimum colorbar vlue in nmol/L

  IP3 Ani:

    animate IP3: True            # 2d animation of cIP3 with time?
    autoscale colorbar: True    # autoscale colorbar to min max of data set?
    max val: 100                 # maximum colorbar value in umol/L
    min val: 0                   # minimum colorbar value in umol/L

  Morpho Ani:

    animate Morpho: True            # 2d animation of voltage sensitive dye in cell collective with time?
    autoscale colorbar: True     # autoscale colorbar to min max of data set?
    max val: 1.5e-3                  # maximum colorbar value in umol/L
    min val: 0                    # minimum colorbar value in umol/L

  Vmem GJ Ani:

    animate Vmem with gj: True   # 2d animation of vmem with superimposed gj network showing current direction
    autoscale colorbar: True    # autoscale colorbar to min max of data set?
    max val: 50.0                # maximum colorbar value in mV
    min val: -70.0               # minimum colorbar value in mV

  Vcell Ani:

    animate Vcell: True           # 2d animation of voltage in individual cells of the collective?
    autoscale colorbar: True     # autoscale colorbar to min max of data set?
    max val: 10                  # maximum colorbar value in mV
    min val: -70                 # minimum colorbar value in mV

  Venv Ani:

    animate Venv: True           # 2d animation of voltage in individual cells of the collective?
    autoscale colorbar: True     # autoscale colorbar to min max of data set?
    max val: 10                  # maximum colorbar value in mV
    min val: -70                 # minimum colorbar value in mV

  P cell Ani:

    animate P cell: True         # 2d animation of electroosmotic pressure in individual cells of the collective?
    autoscale colorbar: True     # autoscale colorbar to min max of data set?
    max val: 10                  # maximum colorbar value in mV
    min val: -70                 # minimum colorbar value in mV

  Osmotic P Ani:

    animate Osmotic P: True         # 2d animation of osmotic pressure difference in individual cells of the collective?
    autoscale colorbar: True     # autoscale colorbar to min max of data set?
    max val: 10                  # maximum colorbar value in mV
    min val: -70                 # minimum colorbar value in mV

  Electrostatic P Ani:

    animate electrostatic P: True     # 2d animation of electroosmotic pressure in individual cells of the collective?
    autoscale colorbar: True     # autoscale colorbar to min max of data set?
    max val: 100                  # maximum colorbar value in N/m3
    min val: 0                 # minimum colorbar value in N/m3

  Current Ani:

    animate current: True       # 2d animation of current in individual cells of the collective?
    autoscale colorbar: True    # autoscale colorbar to min max of data set?
    max val: 150                # maximum colorbar value [pA]
    min val: 0                  # minimum colorbar value [pA]

  Membrane Ani:

    animate Membrane: True       # 2d animation of membrane pump motion?
    autoscale colorbar: True    # autoscale colorbar to min max of data set?
    max val: 1                # maximum colorbar value [pA]
    min val: 0                  # minimum colorbar value [pA]

  Efield Ani:
    animate Efield: True        # 2d animation of electric field in extracellullar matrix
    data type: ECM                  # data type can be 'ECM' or 'GJ'
    overlay vector: True            # overlay a streamline plot of field direction?
    autoscale colorbar: True    # autoscale colorbar to min max of datat set?
    max val: 1500               # max colorbar value [V/m]
    min val: 0                  # min colorbar value [V/m]

  Velocity Ani:
    animate Velocity: True        # 2d animation of electric field in extracellullar matrix
    data type: GJ                  # data type can be 'ECM' or 'GJ'
    autoscale colorbar: True    # autoscale colorbar to min max of datat set?
    max val: 500               # max colorbar value [V/m]
    min val: 0                  # min colorbar value [V/m]


  Deformation Ani:
    animate Deformation: True        # 2d animation of electric field in extracellullar matrix
    data type: Displacement                  # data type can be 'Vmem' or 'Displacement'
    autoscale colorbar: True    # autoscale colorbar to min max of datat set?
    max val: 10               # max colorbar value [um] when autoscale is False
    min val: 0                  # min colorbar value [um] when autoscale is False

  default colormap: coolwarm   # Specify the colormap to be used for main data on all graphs.
                               # options include
                               # coolwarm, hot, rainbow, jet, Blues, Greens, bone
                               # to reverse a colormap add _r to the name (e.g. cm.jet_r)
                               # for all options please see
                               # http://matplotlib.org/examples/color/colormaps_reference.html

  gj colormap: bone_r            # colormap used for plotting gj currents on top of default colormap

# ----------------------------------------------------------------------------------------------------------------------
# INTERNAL USE ONLY
# ----------------------------------------------------------------------------------------------------------------------
# While the following settings are available to you, please avoid editing them.
# Simulation instability may result from poor choice of these more sensitive parameters.
# BETSE requires these parameters for its internal use only.

gated ion channel options:   # changing these will alter network dynamics -- but do so with caution!

    voltage gated Na:

        max Dmem Na: 5.0e-14        # maximum Na+ membrane diffusion coefficient channel open [m2/s]  1e-16
        activation v: -55e-3      # voltage threshold above which vgNa is activated [V]
        inactivation v: 20e-3     # voltage threshold above which vgNa is inactivated [V]
        deactivation v: -60e-3    # voltage threshold below which vgNa is deactivated [V]
        live time: 2e-3           # time activated state can exist (trans to inactivated) [s]
        dead time: 5e-3          # refractory time vgNa remains inactivated [s]

    voltage gated K:

        max Dmem K: 7.0e-15           # maximum K+ membrane diffusion coefficient channel open [m2/s] 5e-16
        activation v: 5e-3        # voltage threshold above which vgK is activated [V]
        deactivation v: -70e-3      # voltage threshold below which vgK is deactivated [V]
        live time: 10e-3            # time activated state can exist [s]

    voltage gated Ca:

        max Dmem Ca: 1.0e-15        # maximum Ca2+ membrane diffusion coefficient channel open [m2/s]
        activation v: -40e-3        # voltage threshold above which vgK is activated [V]
        inactivation v: 30e-3       # voltage threshold above which vgCa is inactivated [V]
        inactivation Ca: 5.0e-3     # level of cytosolic Ca2+ above which vgCa is inactivated [mmol/L]
        reactivation Ca: 200e-6     # level of cytosolic Ca2+ below which vgCa is un-inactivated [mmol/L]

    calcium gated K:

        max Dmem K: 1.0e-15         # maximum K+ membrane diffusion coefficient open channel [m2/s]
        hill K_half: 7.5e-4         # half-maxium activity coefficient for Hill function [mmol/L]
        hill n: 3                   # Hill function coefficient


calcium dynamics parameters:

    IP3 frequency modulation level: 0.8     # How strongly does IP3 induce frequency modulation
                                            # of Ca2+ oscillations ?
                                            # Range 0 to 0.9, higher more effect

    ER max: 2.5e-15             # Maximum diffusion coefficient of open ER channel [m2/s]
    ER burst: 0.5               # ER Ca2+ level at which ER opens [mmol/L]
    ER close: 0.25               # ER Ca2+ level at which ER closes [mmol/L]

    IP3 K half: 1e-3        # Concentration of IP3 at which ER Ca channel is half closed [mmol/L]
                            # Based on a Hill function.
    IP3 hill n: 3.4         # Hill function n coefficient

    CICR Ca peak: 500.0e-6      # Ca induced Ca release peak emission with cytosolic calcium [mmol/L]
    CICR Ca width: 80.0e-6      # Ca induced Ca release width of Ca-regulated emission curve [mmol/L]

    ER_vol:  0.1               # volume of endoplasmic reticulum as a fraction of cell volume
    ER_sa:  1.0                # surface area of endoplasmic reticulum as a fraction of cell surface area

    Dm_IP3: 1.0e-12             # membrane diffusion constant of IP3 [m2/s]
    Do_IP3: 1.0e-9              # IP3 free diffusion constant [m2/s]
    z_IP3: -3                   # charge (oxidation state) of IP3
    cIP3_to: 1e-3               # initial value of IP3 in all cells [mmol/L]
    cIP3_to_env: 1e-3           # initial value of IP3 in environment [mmol/L]


internal parameters:

  # default free diffusion constants (cytoplasmic)

  Do_Na:  1.33e-9       # free diffusion constant sodium [m2/s]
  Do_K:  1.96e-9        # free diffusion constant potassium [m2/s]
  Do_Cl:  2.03e-9       # free diffusion constant chloride [m2/s]
  Do_Ca:  1.0e-10        # free diffusion constant calcium [m2/s]
  Do_H:  2.5e-9         # free diffusion constant hydrogen [m2/s]
  Do_M:  1.0e-9         # free diffusion constant mystery anchor ion [m2/s]
  Do_P:  5.0e-10        # free diffusion constant protein [m2/s]

  # pump parameters

  alpha_NaK:  1.0e-9   # maximum rate constant sodium-potassium ATPase per unit surface area [m/mol*s]
  halfmax_NaK:  5      # the free energy level at which pump activity is halved [kJ]
  slope_NaK:  3        # the energy window width of the NaK-ATPase pump [kJ]

  alpha_Ca:  1.0e-5    # pump rate for calcium ATPase in membrane per unit surface area [m/mol*s]
  alpha_CaER:  1.0e-7  # pump rate for calcium ATPase in endoplasmic reticulum [m/mol*s]
  halfmax_Ca:  5       # the free energy level at which pump activity is halved [kJ]
  slope_Ca:  3         # the energy window width of the NaK-ATPase pump [kJ]

  alpha_HK:  0.025    # pump rate for the H-K-ATPase per unit surface area [m/mol*s]
  halfmax_HK:  5       # the free energy level at which pump activity is halved [kJ]
  slope_HK:  3         # the energy window width of the NaK-ATPase pump [kJ]

  alpha_V:  1.0     # pump rate for the plasma membrane V-ATPase per unit surface area [m/mol*s]
  halfmax_V:  5       # the free energy level at which pump activity is halved [kJ]
  slope_V:  3         # the energy window width of the NaK-ATPase pump [kJ]

  max_gj_enhancement: 10   # parameters relating to flow sensitivity of gap junctions
  u_decay_rate: 0.5
  alpha_rho_gj: 1.0e-3

  interpolation method: nearest  # interpolation method, choices are 'linear' or 'nearest'

  env modification constant: 5.0e5    # Asymetrical capacitance coefficient for environment

  cell modification constant: 1.5e3    # Asymetrical capacitance coefficient for cell 1.5e3 to 5e5


# Configuration file version that this file conforms to. For reliable
# comparability, this is stored as a string rather than float scalar.
version: "0.4.0"
