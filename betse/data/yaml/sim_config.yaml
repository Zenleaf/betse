%YAML 1.1
---
# Default BETSE simulation configuration file.
#
# The following settings can be changed to customize simulations in BETSE. When
# editing the file, note that it is essential that the line indentations (tabs)
# are maintained in their current order, and that only variable assignments are
# changed. Variable names must not be changed. Comments are prefixed by "#" and
# may be altered.
#
# Note that each BETSE simulation requires an initialization run. The
# initialization is required to ensure that a simulation begins with a system in
# a steady state. Each subsequent simulation depends on an initialization run
# specific to the cell geometry and initialized parameters.
#
# Note: parameters listed under the "INTERNAL USE ONLY" section should be
# modified only with care.
#
# Pathnames
# ----------
# For portability, files and directories are configured below as relative rather
# than absolute pathnames (e.g., as "sim_init.betse" rather than
# "/Users/iamawesome/my_sim/sim_init.betse"). Such pathnames are relative to the
# directory containing this file. This allows the directory to be safely moved
# without breaking existing tissue simulations.
#
# A Note on YAML
# ----------
# This file is formatted according to the YAML ([Y]AML [A]in't [M]arkup
# [L]anguage) standard. YAML is a human-readable data serialization format
# useful for configuration files -- like this one. For details, please see
# https://en.wikipedia.org/wiki/YAML.

#-----------------------------------------------------------------------------------------------------------------------
# FILE HANDLING
#------------------------------------------------------------------------------------------------------------------------
# Settings specific to saving simulations and results output

init file saving:

    directory: betse_1/INITS         # directory to load/save init run

    file: init_1.betse        # filename to load/save init run

    worldfile: world_1.betse      # filename to load/save cell cluster

sim file saving:

    directory: betse_1/SIMS # directory to load/save sim run

    file: sim_1.betse    # filename to load/save sim run

results file saving:

    init directory: betse_1/results_init_1  # directory to load/save data, plots, and animations for init
    sim directory: betse_1/results_sim_1  # directory to load/save data, plots, and animations for sim

# -----------------------------------------------------------------------------
# INITIALIZATION SETTINGS
# -----------------------------------------------------------------------------
# Settings specific to the initialization


init time settings:

  time step: 1.0e-3           # time step-size [s] (recommended at least 1.0e-3 or smaller)
  total time: 1.0             # end time [s] (recommend 5 seconds or more)
  sampling rate: 0.1          # time interval to sample data [s] (at least value of time-step or larger)

# ---------------------------------------------------------------------------------------------------------------------
# SIMULATION SETTINGS
# ---------------------------------------------------------------------------------------------------------------------

automatically run initialization: True     # If init file is not found, do you wish to
                                           # automatically run an init?

sim time settings:

  time step: 1.0e-3       # time step-size [s] (recommended 1.0e-3 or smaller)
  total time: 1.0         # time to end sim run [s]
  sampling rate: 0.1      # period to sample data [s] (at least time step or larger)

# ---------------------------------------------------------------------------------------------------------------------
# GENERAL OPTIONS
# ---------------------------------------------------------------------------------------------------------------------
# Specify general options to be used in the init and sim runs.

# File synch warning: you can't change any of these general options after running 'betse seed'.

general options:

  comp grid size: 40         # grid used in computation of environmental parameters (min 10; keep smaller than 50)
  plot grid size: 50        # grid used for interpolated data plotting (recommend 50 to 250)

  simulate extracellular spaces: False    # include extracellular spaces and true environment simulation?

  ion profile: basic   # ion profile options:
                                # 'basic' (Na+, K+, M-, and proteins-)
                                # 'basic_Ca' (Na+, K+, Ca2+, M- and proteins-)
                                # 'animal' (Na+, K+, Cl-, Ca2+, H+, HCO3- and proteins-) typical mammal
                                # 'scratch' (Na+, K+, Cl-, M- and proteins) intra extra values close
                                # 'xenopus' (Na+, K+, Cl-, Ca2+, H+, HCO3- and proteins-) freshwater environment
                                # 'customized' (user-specified settings, see below)
                                # profiles contain an unidentified charge-balance anion, M-


  customized ion profile:      # set user-defined initial values of ion concentrations
                               # for the initialization run
                               # note both extracellular and cytosolic levels of all
                               # ions must add up to a net positive charge.
                               # this is because an anion (M-) is used to create
                               # charge neutrality in each compartment.

    extracellular Na+ concentration: 110.0          # extracellular sodium [mmol/L]
    extracellular K+ concentration: 2.5             # extracellular potassium [mmol/L]
    extracellular Cl- concentration: 100.0          # extracellular chloride [mmol/L]
    extracellular Ca2+ concentration: 2.0           # extracellular calcium [mmol/L]
    extracellular H+ concentration: 3.98e-5         # extracellular protons [mmol/L]
    extracellular protein- concentration: 0.0       # extracellular protein [mmol/L]

    cytosolic Na+ concentration: 11.0                # intracellular sodium [mmol/L]
    cytosolic K+ concentration: 110.00              # intracellular potassium [mmol/L]
    cytosolic Cl- concentration: 45.0                # intracellular chloride [mmol/L]
    cytosolic Ca2+ concentration: 3.0e-3            # intracellular calcium [mmol/L]
    cytosolic H+ concentration: 3.98e-5             # intracellular protons [mmol/L]
    cytosolic protein- concentration: 50.0         # intracellular protein [mmol/L]

    endoplasmic reticulum Ca2+: 0.01             # starting level of Ca2+ in the ER store [mmol/L]

# ---------------------------------------------------------------------------------------------------------------------
# WORLD OPTIONS
# ---------------------------------------------------------------------------------------------------------------------
# The 'world' refers to cell geometric properties, the size of the cluster, and the properties of the environment,
# such as size and temperature. These variables are common to both init and sim runs. All of these world variables
# will be created in the init and apply to all sims running from the init.

# File sync warning: you can't change any of these 'world options' after running 'betse seed'.

world options:

  world size: 200e-6      # dimension of the square world space [m]
                          # the world is square with x = y.
                          # recommended range 80e-6 to 1000e-6 m

  cell radius: 5e-6       # radius of single cell [m]
                          # recommended range 3.5e-6 to 20e-6 m

  cell height: 10.0e-6     # the height of a cell in the z-direction [m]
                          # used in cell volume and surface area calculations
                          # recommended range 1.0e-6 to 10e-6 m

  cell spacing: 26.0e-9       # the spacing between cells [m]
                              # recommended 26.0e-9 m for animal cells
                              # 1.0e-6 for plant cells and animal cells with heavy extracellular matrix

  lattice type: rect           # form of the base lattice (before adding lattice disorder)
                              # options: 'hex' for hegagonal or 'rect' for rectilinear

  lattice disorder: 0.8       # noise level for the lattice
                              # recommended range 0 to 0.8
                              # this randomizes lattice points from the rectangular or
                              # hexagonal base grid. If equal to 0, a perfect
                              # hexagonal or rectangular grid is created.

#-----------------------------------------------------------------------------------------------------------------------
# TISSUE PROFILE DESIGNATION
#-----------------------------------------------------------------------------------------------------------------------
# Tissue profiles are user-defined regions within the cluster to which specific base membrane diffusion profiles,
# interventions, and individualized dynamics (e.g voltage gated channels) can be applied.
# Tissue profiles can be gap-junction connected or separated (isolated) from other tissue profiles.
# Cluster shape and individual tissues can be defined by bitmaps, or specified via various functional regimes.
# When multiple profiles apply to the same cell, options defined by later profiles override options defined by
# earlier profiles.

# A profile's functionality is defined by the value of its "type" key:
#
# -> "type: tissue" associates profiled cells with the same parameters and events.
# -> "type: cut" permanently removes all cells at the begining of a sim run.
#                Cut profiles are ignored unless the cutting event defined below is also enabled.
#
# No File synch issues: Tissue profiles can be altered after the time of the 'betse seed' command.

tissue profile definition:

    clipping:     # geometry mask defining shape of global cell cluster
        bitmap:   # bitmap whose coloured pixel area defines this mask
            file: geo/circle/circle_base.png  # bitmap path relative to config file location;
                                                  # if "None", clipping will be disabled

    profiles enabled: True   # Are tissue and cut profiles listed below applied ("True") or ignored ("False")?

    profiles:
        # Example default tissue profile applying to all cells.
        - type: tissue
          name: all            # unique profile name
          insular: False       # tissue has gj connecting within tissue but not between tissues (True)

          diffusion constants: # constants applied to all targetted cells
              Dm_Na: 1.0e-18   # Na+ membrane diffusion constant [m2/s]
              Dm_K: 15.0e-18   # K+ membrane diffusion constant [m2/s]
              Dm_Cl: 2.0e-18   # Cl- membrane diffusion constant [m2/s]
              Dm_Ca: 1.0e-18   # Ca2+ membrane diffusion constant [m2/s]
              Dm_H: 1.0e-18    # H+ membrane diffusion constant [m2/s]
              Dm_M: 1.0e-18    # M- membrane diffusion constant [m2/s]
              Dm_P: 0.0        # proteins membrane diffusion constant [m2/s]

          cell targets:   # cell population to which this profile applies.
              type: all   # "all", uniformly apply this tissue profile to all cells
                          # "bitmap", match cells falling in a bitmap's colored area
                          # "indices", match cells with the listed indices
                          # "random", match a random subset of cells in the cluster

              bitmap:  # if "type: bitmap" specified above, supply path to bitmap; otherwise this is ignored

                  file: geo/circle/circle_base.png  # Absolute or relative bitmap path

              indices: [3, 14, 15, 9, 265] # If "type: indices" specified above list cell indices for profile;
                                           # otherwise this is ignored. This must be a list of positive integers
                                           # for cells existing in cluster.

              random: 50                 # If "type: random" specified above,
                                         # define percentage of cells to which this tissue
                                         # profile will be randomly applied; otherwise this is ignored.
                                         # This must be an integer
                                         # ranging from 0 to 100 (e.g., "50" randomly applies this profile
                                         # to 50% of all cells).

        # Example tissue profile for a small, slightly depolarized cluster of
        # cells near the cluster centre.

        - type: tissue
          name: spot
          insular: False

          diffusion constants:
              Dm_Na: 1.0e-18   # Na+ membrane diffusion constant [m2/s]
              Dm_K: 1.0e-18    # K+ membrane diffusion constant [m2/s]
              Dm_Cl: 1.0e-18   # Cl- membrane diffusion constant [m2/s]
              Dm_Ca: 1.0e-18   # Ca2+ membrane diffusion constant [m2/s]
              Dm_H: 1.0e-18    # H+ membrane diffusion constant [m2/s]
              Dm_M: 1.0e-18    # M- membrane diffusion constant [m2/s]
              Dm_P: 0.0        # proteins membrane diffusion constant [m2/s]

          cell targets:
              type: bitmap
              bitmap: { file: geo/circle/mini_spot.png }
              indices: [3, 14, 15, 9, 265]
              random: 50

        # Example tissue profile for a small cluster of depolarized cells near
        # the cluster boundary.

        - type: tissue
          name: wound
          insular: False

          diffusion constants:
              Dm_Na: 1.0e-18   # Na+ membrane diffusion constant [m2/s]
              Dm_K: 150.0e-18  # K+ membrane diffusion constant [m2/s]
              Dm_Cl: 2.0e-18   # Cl- membrane diffusion constant [m2/s]
              Dm_Ca: 1.0e-18   # Ca2+ membrane diffusion constant [m2/s]
              Dm_H: 1.0e-18    # H+ membrane diffusion constant [m2/s]
              Dm_M: 1.0e-18    # M- membrane diffusion constant [m2/s]
              Dm_P: 0.0        # proteins membrane diffusion constant [m2/s]

          cell targets:
              type: bitmap
              bitmap: { file: geo/circle/wedge.png }
              indices: [3, 14, 15, 9, 265]
              random: 50

        # Example cut profile for a small cluster of cells near the boundary.
        - type: cut       # unique type for cut profiles
          name: surgery   # unique profile name

          bitmap:         # bitmap whose coloured pixel area defines the
                          # subset of cells to be removed
              file: geo/circle/wedge.png

#-----------------------------------------------------------------------------------------------------------------------
# TARGETED INTERVENTIONS
#-----------------------------------------------------------------------------------------------------------------------
# Targeted interventions are scheduled changes that can be applied to cells in the cluster by linking to a defined
# tissue profile. # Targeted interventions only occur durring sim runs, not durring an init.

# No file synch issues: Targeted intervention settings can be altered after seed and init.

change Na mem:       # Change the membrane permeability to Na+
    event happens: True        # turn the event on (True) or off (False)
    change start: 1.0e-3                # time to start change [s]
    change finish: 20.0e-3               # time to end change and return to original [s]
    change rate: 2.0e-3                 # rate of change [s]
    multiplier: 500.0                # factor to multiply base level
    modulator function: None               # spatial function:'gradient_x','gradient_y', 'gradient_r' or 'None'
    apply to: ['spot']          # name(s) of the tissue profile(s) to apply intervention to

change K mem:       # Change the membrane permeability to K+
    event happens: False              # turn the event on (True) or off (False)
    change start: 1.0                   # time to start change [s]
    change finish: 2.0                 # time to end change and return to original [s]
    change rate: 0.5                    # rate of change [s]
    multiplier: 50.0                    # factor to multiply base level
    modulator function: None                   # spatial function:'gradient_x','gradient_y', 'gradient_r' or 'None'
    apply to: ['wound']     # name(s) of the tissue profile(s) to apply intervention to

change Cl mem:      # Change the membrane permeability to Cl-
    event happens: False              # turn the event on (True) or off (False)
    change start: 1.0                  # time to start change [s]
    change finish: 4.0                 # time to end change and return to original [s]
    change rate: 0.5                    # rate of change [s]
    multiplier: 10                    # factor to multiply base level
    modulator function: None                # spatial function:'gradient_x','gradient_y', 'gradient_r' or 'None'
    apply to: ['wound']     # name(s) of the tissue profile(s) to apply intervention to

change Ca mem:       # Change the membrane permeability to Ca2+
    event happens: False              # turn the event on (True) or off (False)
    change start: 2.0                  # time to start change [s]
    change finish: 8.0                 # time to end change and return to original [s]
    change rate: 1                    # rate of change [s]
    multiplier: 10                    # factor to multiply base level
    modulator function: None              # spatial function:'gradient_x','gradient_y', 'gradient_r' or 'None'
    apply to: ['all']     # name(s) of the tissue profile(s) to apply intervention to

apply pressure:                       # Schedule application of mechanical pressure
    event happens: False              # turn the event on (True) or off (False)
    change start: 1                   # time to start pressure application [s]
    change finish: 4                 # time to end pressure application [s]
    change rate: 1                    # rate of ramp up/down from time start/end [s]
    multiplier: 100                  # pressure applied at maximum [Pa]
    modulator function: periodic              # spatial function:'gradient_x','gradient_y', 'gradient_r' or 'None'
    apply to: ['spot']     # name(s) of the tissue profile(s) to apply intervention to


# Apply an external voltage to two edges of the environmental boundary if the
# "simulate extracellular spaces" option is enabled.
apply external voltage:

    event happens: False   # enable (True) or disable (False) this event?
    change start: 0.5     # time [s] at which to begin applying voltage
    change finish: 1.0    # time [s] at which to cease applying voltage
    change rate: 0.1      # time [s] over which voltage proceeds from background
                          # to peak and from peak to background
    peak voltage: 0.100   # max voltage [V] applied by this event

    positive voltage boundary: top     # env boundary to apply positive voltage
                                       # ("top", "bottom", "left", or "right")
    negative voltage boundary: bottom  # env boundary to apply negative voltage
                                       # ("top", "bottom", "left", or "right")


break ecm junctions:     # break extracellular junctions between cells
    event happens: False     # turn the event on (True) or off (False)
    change start: 2.0        # time to start change [s]
    change finish: 7.0       # time to end change and return to original [s]
    change rate: 0.5         # rate of change [s]
    apply to: ['wound']      # tissue profile(s) to apply intervention to


# Cut (i.e., remove) all cells matched by the "cut profile" defined above from
# the initialized cluster at the start of the simulation run. Note that this is
# ignored unless the "cut profile" is also enabled.
cutting event:
    event happens: True      # enable (True) or disable (False) this event?
    apply to: ['surgery']    # names of cut profiles selecting cells to be cut
    wound channel:
      use channel: True      # use a channel associated with wounding (mechanosensitive Na channel)
      max conductivity: 1.0e-7   # maximum conductivity of the channel to sodium when fully open
      closure delay: 1.0       # how fast does the channel close after activation? (larger = faster decay)

      activators: None         # list of defined substances or simulation ions activating channel
      Km activators: None      # list of half-maximum values for activators
      n activators: None       # list of Hill exponent of activators
      inhibitors: None   # list of defined substances or simulation ions inhibiting channel
      Km inhibitors: None      # list of half-maximum values for inhibitors
      n inhibitors: None        # list of Hill exponent of inhibitors



modulator function properties:   # set properties of modulating functions which may be used in above:

  gradient_x:           # generate a spatial gradient of a property in the x-direction
      slope: 1.0        # rate of change of gradient per unit x-dimension
      offset: 0         # offset to all gradient values

  gradient_y:           # generate a spatial gradient of a property in the y-direction
      slope: 1.0        # rate of change of gradient per unit x-dimension
      offset: 0         # offset to all gradient values

  gradient_r:           # generate a radial spatial gradient of a property
      slope: 1.0        # radial gradient rate of change per unit radius
      offset: 0

  periodic:              # generate a sinusoidal oscillation of a property
      frequency: 10e3     # frequency of oscillation [Hz]
      phase: 0           # phase-offset of oscillation

  f_sweep:                    # apply a sinusoidal oscillation of a property as a sequence of frequencies
      start frequency: 0.1e3          # start frequency
      end frequency: 1e3            # end frequency

# ----------------------------------------------------------------------------------------------------------------------
# DYNAMIC ION CHANNELS
# ----------------------------------------------------------------------------------------------------------------------
# Dynamic ion channels respond to simulation variables to change state (e.g. voltage gating)
# Specify dynamic ion channels expressed by certain cells in the cluster using links to tissue profiles.
# Dynamic ion channels only appear in sim runs (not in init).

# No file synch issues: Dynamic ion channel settings can be altered between seed, init and sim.

voltage gated Na+:
    turn on: False                 # voltage gated sodium channel
    apply to: ['all']              # name(s) of the tissue profile(s) to apply it to
    channel type: ['Nav1p2']         # available types: 'Nav1p2' (adult brain), 'Nav1p3' (embryo)
                                  # 'NavRat1', 'NaVRat2'
    max value: 5.0e-5             # maximum channel conductivity when channel fully open [S/m2]

persistent vg Na+:
    turn on: False                 # voltage gated sodium channel with persistant current
    apply to: ['all']              # name(s) of the tissue profile(s) to apply it to
    channel type: ['Nav1p6']         # available types: 'Nav1p6' (persistent brain)
    max value: 1.0e-5             # maximum channel conductivity when channel fully open [S/m2]

stretch gated Na+:         # stretch activated depolarization (Na+) channel
    turn on: False
    apply to: ['all']          # tissue profile(s) to apply to
    max value: 1.0e-5         # maximum channel conductivity when channel fully open [S/m2]

voltage gated K+:             # voltage gated potassium channel, delayed rectifyer
    turn on: False
    apply to: ['all']          # name(s) of the tissue profile(s) to apply it to
    channel type: ['K_Slow','K_Fast']      # available types: 'Kv1p1', 'Kv1p2', 'Kv1p3', 'Kv1p5',
                                           # 'K_Slow', 'K_Fast', 'Kv2p1'
    max value: 1.0e-6         # maximum channel conductivity when channel fully open [S/m2]

additional voltage gated K+:    # Other types of K+ currents including inward-rectifying
    turn on: False
    apply to: ['all']          # name(s) of the tissue profile(s) to apply it to
    channel type: ['Kir2p1']      # available types: 'Kir2p1', 'Kv3p4' and 'Kv3p3' (A-currents)
    max value: 1.0e-6         # maximum channel conductivity when channel fully open [S/m2]

calcium gated K+:              # calcium gated potassium channel
    turn on: False
    apply to: ['all']         # name(s) of the tissue profile(s) to apply it to
    max value: 1.0e-6        # maximum channel conductivity when channel fully open [S/m2]

funny current:                 # "funny current" K+/Na+ channel
    turn on: False
    apply to: ['all']
    channel type: ['HCN4']         # available types: 'HCN1', 'HCN2' or 'HCN4'
    max value: 1.0e-6         # maximum channel conductivity when channel fully open [S/m2]

voltage gated Ca2+:            # voltage gated calcium channel
    turn on: False
    apply to: ['all']         # name(s) of the tissue profile(s) to apply it to
    channel type: ['Ca_L']        # available types: 'Ca_L', 'Ca_T', 'Ca_PQ'
    max value: 5.0e-7        # maximum channel conductivity when channel fully open [S/m2]

Ca dynamics:                   # include full calcium dynamics in the situation?
    turn on: False               # this creates an endoplasmic reticulum (ER) in each cell
    serca pump max: 1.0e-8        # maximum value of the serca pump
    max er: 1.0e-6                # maximum conductivity of ER membrane Ca++ channel
    act Km Ca: 0.6e-3             # concentration at which calcium activates ER opening
    act n Ca: 3.0                 # exponent for Ca activation
    inh Km Ca: 1.5e-3            # concentration at which calcium inhibits ER opening
    inh n Ca: 3.0                # exponent for Ca inhibition
    act Km IP3: 1.0e-3           # concentration at which IP3 (if included in biomolecules) activates opening
    act n IP3: 3.0                # exponent for IP3 (if included in biomolecules) activates opening

# ----------------------------------------------------------------------------------------------------------------------
# GLOBAL INTERVENTIONS
# ----------------------------------------------------------------------------------------------------------------------
# Schedule changes to globally-applied simulation variables such as membrane permeabilities,
# pump and gap junction function and environmental concentrations of ions.
# No file synch issues: Global intervention settings can be changed at any time between seed, init and sim.

# The following global changes affect the entire cluster durring a sim run (not an init):

change K env:       # Change the environmental concentration of K+
  event happens: False      # turn the event on (True) or off (False)
  change start: 1.00           # time to start change [s]
  change finish: 12.00         # time to end change and return to original [s]
  change rate: 1.0            # rate of change [s]
  multiplier: 20            # factor to multiply base level

change Cl env:       # Change the environmental concentration of K+
  event happens: False      # turn the event on (True) or off (False)
  change start: 5.0           # sim time to start change [s]
  change finish: 25.0         # sim time to end change and return to original [s]
  change rate: 2.0            # rate of change [s]
  multiplier: 10             # factor to multiply base level

change Na env:       # Change the environmental concentration of K+
  event happens: False     # turn the event on (True) or off (False)
  change start: 1          # time to start change [s]
  change finish: 9        # time to end change and return to original [s]
  change rate: 1           # rate of change [s]
  multiplier: 5            # factor to multiply base level

change temperature:
  event happens: False      # turn the event on (True) or off (False)
  change start: 1           # time to start change [s]
  change finish: 9         # time to end change and return to original [s]
  change rate: 0.5         # rate of change [s]
  multiplier: 0.5          # factor to multiply base level

block gap junctions:     # block the gap junctions between cells
  event happens: False      # turn the event on (True) or off (False)
  change start: 2.00        # time to start change [s]
  change finish: 6.00       # time to end change and return to original [s]
  change rate: 1.5         # rate of change [s]
  random fraction: 100     # percentage of gap junctions randomly targeted

block NaKATP pump:
  event happens: False      # turn the event on (True) or off (False)
  change start: 5           # time to start change [s]
  change finish: 25         # time to end change and return to original [s]
  change rate: 1.0          # rate of change [s]

block HKATP pump:
  event happens: False     # turn the event on (True) or off (False)
  change start: -1          # time to start change [s]
  change finish: 2         # time to end change and return to original [s]
  change rate: 1.0         # rate of change [s]

block VATP pump:
  event happens: False     # turn the event on (True) or off (False)
  change start: -1          # time to start change [s]
  change finish: 1         # time to end change and return to original [s]
  change rate: 2.0         # rate of change [s]

#-----------------------------------------------------------------------------------------------------------------------
# CUSTOM BIOMOLECULES
#-----------------------------------------------------------------------------------------------------------------------
# Mini-simulations of biochemical substances that can electrodiffuse across cell membranes, between cells via GJ, or
# in the environment. Also can be produced/consumed in the cytoplasm, act as gating ligand for a specific channel,
# be actively pumped in or out of cells, changed at the boundary, or plotted/animated at the end of the simulation.

biomolecules enabled: False   # include all following definitions in simulation (True) or turn them all off (False)

biomolecules:  # specify the properties of any number of auxillary chemicals

  # example of a biomolecule as a cationic voltage-reporter dye
  - name: 'Dye'    # give the substance a unique identifier of your choice
    Dm: 1.0e-12          #  membrane diffusion coefficient [m2/s]
    Do: 1.0e-10          # free diffusion constant in extra and intracellular spaces [m2/s]
    z: 1               # charge (oxidation state)
    env conc: 1.0e-3        # initial concentration in the environment [mmol/L]
    cell conc: 0.0         # initial concentration in the cytoplasm [mmol/L]
    ion channel gating:
      ion channel target: None       # ion channel target ('None', 'Na', 'K', 'Cl','Ca')
      target Hill coefficient: 1.0e-3   # half-max value for channel opening with respect to concentration
      target Hill exponent: 1.0         # Hill exponent; affects shape of opening-vs-concentration curve
      peak channel opening: 1e-16        # max mem diffusion constant for target ion when channel fully open
      acts extracellularly: True         # acts via extracellular (True) or intracellular (False) concentration?
    active pumping:                     # use ATP driven pumps to actively move morphogen?
      turn on: False                     # turn pumping on?
      pump to cell: True       # pump from extracellular space to cell (True) or reverse (False)?
      maximum rate: 1.0e-4              # maximum rate constant of pumping [mol/s]
      pump Km: 1.0e-3       # Michaelis-Menten coefficient for molecule in pump reaction
      uses ATP: False      # uses ATP or facilitated transport?
    change at bounds:      # Change the environmental concentration of molecule from the global boundary
      event happens: False     # turn the event on (True) or off (False)
      change start: 1.0          # time to start change [s]
      change finish: 7.0        # time to end change and return to original [s]
      change rate: 1.0           # rate of change [s]
      concentration: 1e-3      # target concentration for duration of change [mmol/L]
    plotting:
      plot 2D: True         # create a unique set of plots for the substance
      animate: True         # animate the substance during the sampled time-steps of the simulation
      autoscale colorbar: True      # autoscale the min-max values of the colorbar?
      max val: 2.0               # if autoscale is False, max value to use for plot
      min val: 0.0                    # if autoscale is False, min value to use for plot

#-----------------------------------------------------------------------------------------------------------------------
#  CUSTOM CHEMICAL REACTIONS
#-----------------------------------------------------------------------------------------------------------------------

reactions enabled: False   # enable (True) or turn off (False) all of the following reactions

#-----------------------------------------------------------------------------------------------------------------------
#  CUSTOM CHANNELS
#-----------------------------------------------------------------------------------------------------------------------

channels enabled: False   # enable (True) or turn off (False) all of the following reactions

#-----------------------------------------------------------------------------------------------------------------------
# CUSTOM TRANSPORTERS
#-----------------------------------------------------------------------------------------------------------------------
transporters enabled: False

#-----------------------------------------------------------------------------------------------------------------------
# CUSTOM MODULATORS
#-----------------------------------------------------------------------------------------------------------------------
modulators enabled: False

#-----------------------------------------------------------------------------------------------------------------------
#  METABOLISM
#-----------------------------------------------------------------------------------------------------------------------
metabolism settings:

  metabolism simulated: False  # is metabolism simulated at all, or is cATP assumed constant?

  metabolism config: extra_configs/extra_config_template.yaml  # supply a path to the config file containing metabolic sim info
                                                      # metabo_config_basic.yaml supplies a very basic metabolism model
                                                      # metabo_config_glycolysis_full.yaml supplies a full metabolism model
                                                      # these config files are ignored if 'metabolism simulated' is F
#-----------------------------------------------------------------------------------------------------------------------
# GENE REGULATORY NETWORK
#-----------------------------------------------------------------------------------------------------------------------
gene regulatory network settings:

  gene regulatory network simulated: False

  gene regulatory network config: extra_configs/grn_switch.yaml


#-----------------------------------------------------------------------------------------------------------------------
# VARIABLE SETTINGS
#-----------------------------------------------------------------------------------------------------------------------
# These settings can be changed in between seed, init and sim runs, meaning there are no synchronization issues.

variable settings:

  default tissue name: base   # name of cells to which no profile is applied (if applicable)

  default tissue properties:     # specify the base membrane diffusion constants below (if applicable)

      Dm_Na: 1.0e-18       # Na+ membrane diffusion constant [m2/s]
      Dm_K: 15.0e-18       # K+ membrane diffusion constant [m2/s]
      Dm_Cl: 2.0e-18       # Cl- membrane diffusion constant [m2/s]
      Dm_Ca: 1.0e-18       # Ca2+ membrane diffusion constant [m2/s]
      Dm_H: 1.0e-18        # H+ membrane diffusion constant [m2/s]
      Dm_M: 1.0e-18        # M- membrane diffusion constant [m2/s]
      Dm_P: 0.0            # proteins- membrane diffusion constant [m2/s]

  temperature: 310            # system temperature [K]


  optional pumps:


    HKATPase pump: False     # include the HK-ATPase pump in the simulation?
                             # only works for an ion profile with H+ ions (animal)
                             # options True or False (case sensitive)

    VATPase pump: False    # include the plasma membrane V-ATPase pump?
                              # only works for an ion profile with H+ ions (animal)
                              # options True or False (case sensitive)

    Na/Ca exchanger: False  # include a sodium/calcium exchanger?
                            # only works for an ion profile with Ca2+ ions (animal or basic_Ca)

    Na/K/Cl cotrans: True   # include a sodium/potassium/chloride co-transporter?

    Cl/K symporter: False    # include a chloride/potassium symporter?

  channel electroosmosis:  # membrane pump/channel movement via electrophoresis/osmosis

    turn on: False        # turn on electroosmosis of pumps and channels
    channel charge: -1         # charge of membrane channels
    pump charge: 1          # charge of pumps (controls direction they move in)
    membrane mobility: 1e-11  # mobility factor (diffusion constant) for pumps and channels [m2/s] (1e-10 to 1e-12)



  fluid flow:

    include fluid flow: False     # calculate fluid flow between cells and in extracellular environment?
    water viscocity: 5.0e-2      # viscocity of water [Pa s] (applies to ease of flow)


  deformation:

    turn on: False       # include deformation under the osmotic pressure influx and electric fields?
    galvanotropism: 0.05      # factor by which cells change shape to global electric field (can be 0.0 or negative)
    viscous damping: 0.01        # viscous damping of elastic waves in tissue (0.0 to 1.0; larger = higher damping)
    fixed cluster boundary: False   # Exterior cells of the cluster are fixed (True) or free to move (False)
    young modulus: 1.0e3         # Young's modulus (elastic modulus) of individual cell [Pa] (1 kPa to 10 e6 Pa)
    time dependent deformation: False  # deformation is time-dependent (True) or assumed to be fast change (False)

  pressures:

    include electrostatic pressure: True   # include electrostatic pressure in flow and deformation?
    include osmotic pressure: False    # include osmotic pressure in flow & deformation?
    membrane water conductivity: 1e-10   # mem conductivity for osmotic water inflow (aquaporin fraction) (~ 1e-12)


  noise:

    static noise level: 0    # level of variance in K+ leaks on cell membranes
                             # appropriate range 0 (all cells equivalent) to 10.0 (very high variation)

    dynamic noise: False      # is dynamic noise desired? Options True or False
                              # simulated as random-walk on cellular protein concentrations

    dynamic noise level: 1e-6     # level of dynamic noise
                                  # appropriate range 0 (effect off) to 1e-5 (extremely high noise)
                                  # Note high values may cause simulation instability

  gap junctions:

    gap junction surface area: 5.0e-7 # surface area of gj as fraction of cell area (1.0e-5 extremely open, 1e-9 closed)

    voltage sensitive gj: True   # gj close with voltage difference between cells?

    gj voltage threshold: 15    # cell-cell voltage at which gj are half closed [mV]
                                 # suggested range from 10 mV to 80 mV

    gj voltage window: 15    # steepness of gating function (not currently used)

    gj minimum: 0.10      # for voltage sensitive gj, the fraction of maxium permeability when channel 'closed'


  environmental boundary: # set conditions for the global (environmental) boundary

    closed boundary: False  # Are global environmental boundaries closed (True)
                            # or open (False)? Applies only if the "simulate
                            # extracellular spaces" option is enabled,
                            # otherwise this is ignored.


  tight junction scaling: 1.0e-5   # factor by which tight junctions scale
                                   # free-diffusion

  tight junction relative diffusion:  # relative values for tight junction ion 
                                      # permeability
    Na:  1
    K: 1
    Cl: 1
    Ca: 1
    H: 1
    M: 1
    P: 1

  adherens junction scaling: 1.0e-1   # factor by which cell-cell junctions scale
                                   # free-diffusion

  cavity open: False  # do internally cut cavities have free env boundaries
                      # (True) or sealed by TJ (False)?

  use Goldman calculator: False   # calculate alternative Vmem using GHK
                                  # equation for model params and plot results?

# ----------------------------------------------------------------------------------------------------------------------
# RESULTS
# ----------------------------------------------------------------------------------------------------------------------
# Configure results viewing and saving options for simulations.
# All of the parameters under 'results options' can be altered at any time between seed, init and sim.

results options:

    plot while solving: True     # shows a continuously updating 2d plot of
                                 # cell Vmems while the sim run is computing
                                 # options True or False (case sensitive)

    save solving plot: True      # save the plot while solving figure
                                 # as the sim progresses (as 300 dpi png
                                 # in folder in the results directory)
                                 # warning this can slow down simulations
                                 # options True or False (case sensitive)

    plot after solving: True     # Display post-simulation plots and/or
                                 # animations (True) or not (False)? This
                                 # option does *NOT* govern saving of either
                                 # post-simulation plots (see "automatically
                                 # save plots") or animations (see "save
                                 # animations"). If "automatically save plots"
                                 # is also "True", plots will be exported to
                                 # results without displaying.
                                 # options True or False (case sensitive)

    automatically save plots: True     # autosave all still images (as 300 dpi
                                       # pngs) to the results directory
                                       # options True or False (case sensitive)

    create all animations: True     # Display and/or save post-simulation
                                    # animations (True) or not (False)? If
                                    # "True", only animations explicitly
                                    # enabled below are displayed and/or saved.
                                    # options True or False (case sensitive)

    save animations:        # Post-simulation animation saving options.
      frames:
        enabled: True       # Save each animation as a series of frame images?
        filetype: png       # image filetype
        dpi: 300            # image dots per inch (DPI)

      movie:
        enabled: False      # save each animation as an encoded movie file?
        filetype: mp4       # movie filetype

        # List of the Matplotlib-specific names of all external video encoders
        # with which to encode such movies (in descending order of preference).
        # The first encoder on the current ${PATH} will be used automatically.
        encoders: ['ffmpeg', 'avconv', 'mencoder', 'imagemagick']


    export data to file: True      # export all stored data for the plot cell
                                   # to a comma-delimited (csv) text file
                                   # options True or False (case sensitive)

    export 2D data to file: False   # export 2D Vmem (for all cells at each time) to .csv file as x, y, Vmem

    enumerate cells: False         # number the cells on 2D plots with their simulation index?
                                   # this can help to decide which cell you are interested in getting
                                   # specific data on (for single cell graphs plotted over time).
                                   # options True or False (case sensitive)
                                   # warning should not be used for world sizes over 200 um.

    plot cell index: 0              # State the cell index to use for single-cell time plots
                                    # the index of cells can be seen using enumerate cells feature.

    plot single cell graphs: True   # plot graphs of concentration and voltage for a single cell
                                    # (the plot cell) as a function of simulation time

    show cells: True                # if True, plots and animations show individual cells,
                                    # each displayed with color-coded data. If False,
                                    # plots and animations show data as interpolated over a 2D
                                    # surface so individual cells are not shown.
                                    # Note if working with a large cluster (>500 um) do not
                                    # show cells (set to False) as it will plot very slowly.
                                    # options True or False (case sensitive)
  
    overlay currents: False         # overlay electric current or concentration
                                    # flux streamlines on 2D plotted data?
  
    streamline density: 2.0         # for current plots, the density of streamlines. 0.5 to 5.0
  
    plot total current: True      # for currents and morphgen fluxing, if simululating extracellular spaces, plot
                                    # total current if true, plot gap junction current if false
  
    plot cutlines: True            # plot any scheduled cut-lines on the cell cluster plot as black regions
  
    plot masked geometry: True      # plot the geometry using the overall shape as a mask
  
    Vmem 2D:
      plot Vmem: True              # 2d plot of final vmem ?
      autoscale colorbar: True    # autoscale colorbar to min max of data set?
      max val: 10.0                # maximum colorbar value in mV
      min val: -70.0               # minimum colorbar value in mV
  
    Ca 2D:
      plot Ca: True                # 2d plot of final cell calcium (if Ca2+ present in ion profile)?
      autoscale colorbar: True    # autoscale colorbar to min max of data set?
      max val: 1000                 # maximum colorbar value in nmol/L
      min val: 0                    # minimum colorbar value in nmol/L
  
    pH 2D:
      plot pH: True                # 2d plot of final pH (if H+ present in ion profile) ?
      autoscale colorbar: True    # autoscale colorbar to min max of data set?
      max val: 8                 # maximum colorbar value in pH units
      min val: 6                    # minimum colorbar value pH units
  
    Vcell 2D:
      plot Vcell: True                # 2d plot of voltage in individual cells of the collective?
      autoscale colorbar: True       # autoscale colorbar to min max of data set?
      max val: 10                    # maximum colorbar value in mV
      min val: -70                   # minimum colorbar value in mV
  
    Venv 2D:
      plot Venv: True                # 2d plot of voltage in environmental spaces of the collective?
      autoscale colorbar: True       # autoscale colorbar to min max of data set?
      max val: 10                    # maximum colorbar value in mV
      min val: -70                   # minimum colorbar value in mV
  
    Charge 2D:
      plot Charge: True                # 2d plot of net ionic charge in collective?
      autoscale colorbar: True       # autoscale colorbar to min max of data set?
      max val: 10                    # maximum colorbar value in mV
      min val: -70                   # minimum colorbar value in mV
  
    Efield 2D:
      plot Efield: True              # 2d plot of electric field
      autoscale colorbar: True        # autoscale colorbar to min max of data set?
      max val: 900                   # maximum colorbar value in V/m
      min val: 0                      # maximum colorbar value in V/m
  
    Currents 2D:
      plot Currents: True               # 2d plot of net current flow in the collective?
      autoscale colorbar: True          # autoscale colorbar to min max of data set?
      max val: 150                    # maximum colorbar value [pA]
      min val: 0                        # minimum colorbar value [A]
      colormap: coolwarm                    # colorbar for the currents
  
    Pressure 2D:                      # 2D plot of pressure in the cluster
      plot Pressure: True
      autoscale colorbar: True
      max val: 15
      min val: -15
  
    Osmotic Pressure 2D:                      # 2D plot of osmotic pressure differential in the cluster
      plot Osmotic Pressure: True
      autoscale colorbar: True
      max val: 15
      min val: -15
  
    Velocity 2D:
      plot Velocity: True          # 2D plot of the velocity of electrostatic
                                   # fluid in the cell cluster? Ignored unless
                                   # "include fluid flow" and
                                   # "include electrostatic pressure" are True.
      autoscale colorbar: True
      max val: 15
      min val: -15
  
    Electrostatic 2D:                      # 2D plot of electrostatic force in the cluster
      plot Electrostatic: True
      autoscale colorbar: True
      max val: 15
      min val: -15

    #---------Animations -------------------------------------------------------------------------------------------------

    Vmem Ani:
        animate Vmem: True           # 2d animation of vmem with time?
        autoscale colorbar: True    # autoscale colorbar to min max of data set?
        max val: 10.0                # maximum colorbar value in mV
        min val: -70.0               # maximum colorbar value in mV

    Ca Ani:
        animate Ca2+: True           # 2d animation of cell calcium with time ?
        autoscale colorbar: True    # autoscale colorbar to min max of data set?
        max val: 1000                # maximum colorbar value in nmol/L
        min val: 0                   # minimum colorbar vlue in nmol/L

    pH Ani:
        animate pH: True           # 2d animation of cell pH with time ?
        autoscale colorbar: True    # autoscale colorbar to min max of data set?
        max val: 8               # maximum colorbar value in nmol/L
        min val: 6                   # minimum colorbar vlue in nmol/L

    Vmem GJ Ani:
        animate Vmem with gj: True   # 2d animation of vmem with superimposed gj network showing current direction
        autoscale colorbar: True    # autoscale colorbar to min max of data set?
        max val: 50.0                # maximum colorbar value in mV
        min val: -70.0               # minimum colorbar value in mV
  
    Vcell Ani:
        animate Vcell: True          # Plot a 2D animation of voltage in cells?
        autoscale colorbar: True     # autoscale colorbar to min max of data set?
        max val: 10                  # maximum colorbar value in mV
        min val: -70                 # minimum colorbar value in mV

    Venv Ani:
        animate Venv: True           # Plot a 2D animation of environmental voltage?
        autoscale colorbar: True     # autoscale colorbar to min max of data set?
        max val: 10                  # maximum colorbar value in mV
        min val: -70                 # minimum colorbar value in mV
  
    P cell Ani:
        animate P cell: True         # Plot a 2D animation of electroosmotic
                                     # pressure in individual cells?
        autoscale colorbar: True     # autoscale colorbar to min max of data set?
        max val: 10                  # maximum colorbar value in mV
        min val: -70                 # minimum colorbar value in mV
  
    Osmotic P Ani:
        animate Osmotic P: True      # Plot a 2D animation of osmotic pressure
                                     # difference in individual cells?
        autoscale colorbar: True     # autoscale colorbar to min max of data set?
        max val: 10                  # maximum colorbar value in mV
        min val: -70                 # minimum colorbar value in mV
  
    Force Ani:
        animate force: True         # 2d animation of body forces in individual cells of the collective?
        autoscale colorbar: True     # autoscale colorbar to min max of data set?
        max val: 100                  # maximum colorbar value in N/m3
        min val: 0                 # minimum colorbar value in N/m3
  
    Current Ani:
        animate current: True       # 2d animation of current in individual cells of the collective?
        autoscale colorbar: True    # autoscale colorbar to min max of data set?
        max val: 150                # maximum colorbar value [pA]
        min val: 0                  # minimum colorbar value [pA]
  
    Membrane Ani:
        animate Membrane: True      # Plot a 2D animation of membrane pump
                                    # motion in the cell cluster? Ignored
                                    # unless "channel electroosmosis" is
                                    # enabled as well.
        autoscale colorbar: True    # autoscale colorbar to min max of data set?
        max val: 1                # maximum colorbar value [pA]
        min val: 0                  # minimum colorbar value [pA]
  
    Efield Ani:
        animate Efield: True        # 2d animation of electric field in extracellullar matrix
        autoscale colorbar: True    # autoscale colorbar to min max of data set?
        max val: 1500               # max colorbar value [V/m]
        min val: 0                  # min colorbar value [V/m]
  
    Velocity Ani:
        animate Velocity: True      # Plot a 2D animation of the velocity of
                                    # fluid in the cell cluster? Ignored unless
                                    # "include fluid flow" and
                                    # "include electrostatic pressure" are True.
        autoscale colorbar: True    # autoscale colorbar to min max of data set?
        max val: 500                # max colorbar value [V/m]
        min val: 0                  # min colorbar value [V/m]


    Deformation Ani:
        animate Deformation: True   # Plot a 2D animation of cell deformation?
                                    # Ignored unless "turn on" under
                                    # "deformation" is True.
        data type: Displacement     # data type can be 'Vmem' or 'Displacement'
        style: streamline           # plot 'streamline' or 'vector' displacements
        autoscale colorbar: True    # autoscale colorbar to min max of data set?
        max val: 10                 # max colorbar value [um] when autoscale is False
        min val: 0                  # min colorbar value [um] when autoscale is False
  
    default colormap: RdBu_r   # Specify the colormap to be used for main data (spanning - to +).
                                 # options include
                                 # coolwarm, hot, rainbow, jet, Blues, Greens, bone
                                 # to reverse a colormap add _r to the name (e.g. cm.jet_r)
                                 # for all options please see
                                 # http://matplotlib.org/examples/color/colormaps_reference.html
  
    background colormap: Blues     # Specify colormap to be used for data with vector overlays and 0 --> + data,
                                      # including:
                                      # currents, flow, electric field and deformation.
  
    gj colormap: bone_r            # colormap used for plotting gj currents on top of default colormap
  
    vector and stream color: 'k'    # Specify color of vector arrows and streamlines ('k' = black, 'w' = white,
                                   # 'b' = blue, 'r' = red, 'y' = yellow, 'g' = green, 'm' = magenta,'c'=cyan)

# ----------------------------------------------------------------------------------------------------------------------
# INTERNAL USE ONLY
# ----------------------------------------------------------------------------------------------------------------------
# While the following settings are available to you, please avoid editing them.
# Simulation instability may result from poor choice of these more sensitive parameters.
# BETSE requires these parameters for its internal use only.

gated ion channel options:   # changing these will alter network dynamics -- but do so with caution!

    flux threshold: 1.0e-4     # flux cut off maximum

    calcium gated K:

        max Dmem K: 1.0e-15         # maximum K+ membrane diffusion coefficient open channel [m2/s]
        hill K_half: 7.5e-4         # half-maxium activity coefficient for Hill function [mmol/L]
        hill n: 3                   # Hill function coefficient

    stretch gated Na:

        max Dmem Na: 1.0e-15         # maximum K+ membrane diffusion coefficient open channel [m2/s]
        hill K_half: 0.2         # half-maxium activity coefficient for Hill function (as strain)
        hill n: 3                   # Hill function coefficient


internal parameters:

  # default free diffusion constants (cytoplasmic)

  Do_Na:  1.33e-9       # free diffusion constant sodium [m2/s]
  Do_K:  1.96e-9        # free diffusion constant potassium [m2/s]
  Do_Cl:  2.03e-9       # free diffusion constant chloride [m2/s]
  Do_Ca:  1.0e-10        # free diffusion constant calcium [m2/s]
  Do_H:  2.5e-9         # free diffusion constant hydrogen [m2/s]
  Do_M:  1.0e-9         # free diffusion constant mystery anchor ion [m2/s]
  Do_P:  5.0e-10        # free diffusion constant protein [m2/s]

  # pump parameters

  alpha_NaK:  5.0e-7   # max rate Na-K-ATPase pump [m/mol*s] (1.0e-6 to 1.0e-12)

  alpha_Ca:  1.0e-9    # pump rate for calcium ATPase in membrane per unit surface area [m/mol*s]

  alpha_HK:  1.0e-7    # pump rate for the H-K-ATPase per unit surface area [m/mol*s]

  alpha_V:  1.0e-7     # pump rate for the plasma membrane V-ATPase per unit surface area [m/mol*s]

  alpha_NaCa: 1.0e-5    # rate of Na/Ca exchanger [m/mol*s]

  alpha_NaKCl: 1.0e-5   # rate of Na/K/Cl cotransporter [m/mol*s]

  alpha_ClK: 1.0e-4     # rate of Cl/K symporter [m/mol*s]

  interpolation method: nearest  # interpolation method, choices are 'linear' or 'nearest'

  gaussian smoothing: 1.0    # level for smoothing kernal, in grid points, larger is stronger. Recommend 0 to 2.

  smooth concentrations: True   # apply gaussian smoothing to substance concentration?

  substances affect Vmem: False  # do ionic biochemicals, metabolites and gene products affect charge state?

  environment volume multiplier: 1.0  # level to multiply size of box-environment (applies for no ecm spaces only) 1.0

  electrolyte screening factor: 0.02 # ~0.02 to 0.1 electrolyte double layer screening & self-capacitances [F/m2] 0.86

  field modulation factor: 1.0e-1    # factor to decrease electrophoretic component of ion mobility

  media resistivity: 0.021           # electrical resistivity of bulk electrolyte (Ohms.m)



# Configuration file version that this file conforms to. For reliable
# comparability, this is stored as a string rather than float scalar.
version: "0.4.0"
