%YAML 1.1
---
# Default BETSE simulation configuration file.
#
# The following settings can be changed to customize simulations in BETSE. When
# editing the file, note that it is essential that the line indentations (tabs)
# are maintained in their current order, and that only variable assignments are
# changed. Variable names must not be changed. Comments are prefixed by "#" and
# may be altered.
#
# Note that each BETSE simulation requires an initialization run. The
# initialization is required to ensure that a simulation begins with a system in
# a steady state. Each subsequent simulation depends on an initialization run
# specific to the cell geometry and initialized parameters.
#
# Note: parameters listed under the "INTERNAL USE ONLY" section should be
# modified only with care.
#
# Pathnames
# ----------
# For portability, files and directories are configured below as relative rather
# than absolute pathnames (e.g., as "sim_init.betse" rather than
# "/Users/iamawesome/my_sim/sim_init.betse"). Such pathnames are relative to the
# directory containing this file. This allows the directory to be safely moved
# without breaking existing tissue simulations.
#
# A Note on YAML
# ----------
# This file is formatted according to the YAML ([Y]AML [A]in't [M]arkup
# [L]anguage) standard. YAML is a human-readable data serialization format
# useful for configuration files -- like this one. For details, please see
# https://en.wikipedia.org/wiki/YAML.

#-----------------------------------------------------------------------------------------------------------------------
# FILE HANDLING
#------------------------------------------------------------------------------------------------------------------------
# Settings specific to saving simulations and results output


init file saving:

    directory: init_run_1         # name of the directory to save the initialization

    file: init_run_1.betse        # Specify the filename saving the initialization run.

    worldfile: world_1.betse      # Specify the filename saving the cell cluster geometry object


sim file saving:

    directory: init_run_1/sim_run_1    # Specify a directory to hold the sim and its results

    file: sim_run_1.betse    # Specify the file name saving the results of the simulation run.

results file saving:

    directory: init_run_1/sim_run_1/results_init   # Name of directory to save plots and animations.


# -----------------------------------------------------------------------------
# INITIALIZATION SETTINGS
# -----------------------------------------------------------------------------
# Settings specific to the initialization


init time settings:

  time profile: 'custom init'   # choose a pre-defined time profile for the init
                               # choices are 'initialize' or 'custom init'
                               # settings for 'custom init' time-profile can be
                               # edited below.

  total time: 60               # set the time for the initialization run [s]
                                # recommend 10 to 60 s of initialization.
                                # note this is overriden if you are using 'cutom init' with settings
                                # defined below.
    
  custom init time profile:     # set the following params if you desire more control over init run
                                # settings. To use it call 'custom init' in time profile
                                # setting above.

    time step: 1.0e-3               # Simulation step-size [s] (recommended range see table)
    total time: 10.0                 # time to end the initialization run [s] (recommended range 10 to 60 s)
    sampling rate: 0.1            # time period to sample data from init run [s] (recommended range see table)


#------------------------------------------------------------------------------
# Time-step Recommendations
#
# GJ sa          time step            sampling t      effect
#--------       -------------         -----------     --------
# 1e-6               1e-3                0.1          closed gap junctions
# 1.0e-5             1e-3                0.1          low gap junctions
# 1.0e-4             1e-3                0.1          moderate gap junction
# 1.0e-3             5e-4                0.1          high flux gap junctions

# -----------------------------------------------------------------------------

# ---------------------------------------------------------------------------------------------------------------------
# SIMULATION SETTINGS
# ---------------------------------------------------------------------------------------------------------------------

automatically run initialization: True     # In the case that an initialization file is not found, do you wish to
                                           # automatically run an initialization with settings as described in this
                                           # config file?

sim time settings:

  time profile: 'custom sim'    # choose a pre-defined time profile for the sim run
                                      # choices are 'simulate somatic', 'simulate excitable'
                                      # or 'custom sim'
                                      # 'simulate somatic' is for cells without voltage-gated
                                      #  sodium and potassium channels (slower dynamics, longer sim times).
                                      # 'simulate excitable' is for cells with voltage-gated
                                      # sodium and potassium channels (rapid changes, short sim times).
                                      # settings for 'custom sim' time-profile can be
                                      # edited below.

  total time: 5            # set the total time for the sim run [s]
                            # recommend 1 s to 30 min for 'simulate_somatic' time profile and
                            # 0.01 to 5 seconds for 'simulate_excitable' time profile.
                            # Note this is over-ridden if you are using 'custom sim'


  custom sim time profile:  # set the following params if you desire more control over sim run
                            # settings. To use it call 'custom sim' in time profile
                            # setting above.

    time step: 1.0e-4               # Simulation step-size [s] (recommended range 5e-6 to 5e-3)

    total time: 0.1                  # time to end the sim run [s] (recommended range 0.010 s to 60 minutes)

    sampling rate: 1.0e-3            # time period to sample data from sim run [s] (recommended range 1e-4 to 1 s)


#------------------------------------------------------------------------------
# Time-step Recommendations
#
# GJ sa          time step            sampling t      effect
#--------       -------------         -----------     --------
# 1e-6               1e-3                0.1          closed gap junctions
# 1.0e-5             1e-3                0.1          low gap junctions
# 1.0e-4             1e-3                0.1          moderate gap junction
# 1.0e-3             5e-4                0.1          high flux gap junctions

# -------------------------------------------------------------------------------

# ---------------------------------------------------------------------------------------------------------------------
# GENERAL OPTIONS
# ---------------------------------------------------------------------------------------------------------------------
# Specify general options to be used in the init and sim runs

general options:

  grid size: 50                # size of the square grid used in computation of spatial gradients and laplacians

  simulate ECM: True           # include extracellular spaces and heterogeneous cell Vmem?

  ion profile: 'basic'   # set the ion profile to be used in the simulation
                                # 'basic' (Na+, K+, and proteins)
                                # 'basic_Ca' (Na+, K+, Ca2+, and proteins)
                                # 'animal' (Na+, K+, Cl-, Ca2+, H+ and proteins)
                                # 'invertebrate' (Na+, K+, Cl-, Ca2+, H+ and proteins)
                                # 'customized' (user-specified settings)
                                # each profile also contains a charge-balance anion, M-
                                # In 'animal' and 'invertebrate' profiles
                                # M- represents HCO3- (bicarbonate).
                                # Note as ion number increases, time to run an init
                                # or sim increases proportionally.
                                # Note if 'customized' profile selected, ion levels must
                                # be defined in the customized profile at the end of this
                                # General Options section.
                                # Note you cannot change this option between an init and sim run.

  channel electroosmosis: False   # turn on electroosmosis of pumps and channels under ecm currents
                                 # (only works for simulate ECM: True)

  membrane viscocity: 1.0   # membrane viscocity constant (for pumps and channels, larger = slower movement) [Ns/m2]

  water viscocity: 1.0e-3   # viscovity of ecm space (for bulk electroosmosis) [Ns/m2]

  membrane mobility: 1e-12    # mobility factor (diffusion constant) for pumps and channels [m2/s]

  zeta potential: -70e-3      # zeta potential of membrane for electroosmosis, of proteins for electrophoresis (V)

  backward running pumps: False  # include the capacity for pumps to run backwards if free-energy dictates?


  HKATPase pump: True     # include the HK-ATPase pump in the simulation?
                           # only works for an ion profile with H+ ions (animal or invertebrate)
                           # options True or False (case sensitive)

  VATPase pump: False    # include the plasma membrane V-ATPase pump?
                            # only works for an ion profile with H+ ions (animal or invertebrate)
                            # options True or False (case sensitive)


  voltage dye: False     # include electrodiffusion of a voltage sensitive dye?
                         # this is intended to help link sim output to real-world
                         # experimental methods.
                         # options True or False (case sensitive)

  voltage dye properties:  # specify the properties of the voltage sensitive dye if included

    Dm_Dye: 1.0e-15        # voltage sensitive dye membrane diffusion coefficient [m2/s]
    Do_Dye: 1.0e-12         # free diffusion constant of voltage-sensitive dye [m2/s]
    z_Dye: 1               # charge of dye (oxidation state)
    cDye_to: 1.0e-3        # initial concentration of voltage sensitive dye in the environment [mmol/L]
    cDye_to_cell: 1.0e-3    # initial concentration of dye in the cell [mmol/L]

  static noise level: 0    # level of variance in K+ leaks on cell membranes
                           # appropriate range 0 (all cells equivalent) to 10.0 (very high variation)

  dynamic noise: False      # is dynamic noise desired? Options True or False
                            # simulated as random-walk on cellular protein concentrations

  dynamic noise level: 1e-7     # level of dynamic noise
                                # appropriate range 0 to 1e-6
                                # Note high values may cause simulation instability

  customized ion profile:      # set user-defined initial values of ion concentrations
                               # for the initialization run
                               # note both extracellular and cytosolic levels of all
                               # ions must add up to a net positive charge.
                               # this is because an anion (M-) is used to create
                               # charge neutrality in each compartment.

    extracellular Na+ concentration: 145.0          # extracellular sodium [mmol/L]
    extracellular K+ concentration: 5.0             # extracellular potassium [mmol/L]
    extracellular Cl- concentration: 105.0          # extracellular chloride [mmol/L]
    extracellular Ca2+ concentration: 1.0           # extracellular calcium [mmol/L]
    extracellular H+ concentration: 3.98e-5         # extracellular protons [mmol/L]
    extracellular protein- concentration: 9.0       # extracellular protein [mmol/L]

    cytosolic Na+ concentration: 13.0                # intracellular sodium [mmol/L]
    cytosolic K+ concentration: 145.00              # intracellular potassium [mmol/L]
    cytosolic Cl- concentration: 10.0                # intracellular chloride [mmol/L]
    cytosolic Ca2+ concentration: 1.0e-3            # intracellular calcium [mmol/L]
    cytosolic H+ concentration: 6.31e-5             # intracellular protons [mmol/L]
    cytosolic protein- concentration: 138.0         # intracellular protein [mmol/L]

    endoplasmic reticulum Ca2+: 0.5             # level of Ca2+ in the ER store [mmol/L]

# ---------------------------------------------------------------------------------------------------------------------
# WORLD VARIABLES
# ---------------------------------------------------------------------------------------------------------------------
# The 'world' refers to cell geometric properties, the size of the cluster, and
# the properties of the environment such as size and temperature.
# These variables are common to both init and sim runs.
# All of these world variables will be created in the init and apply
# to all sims running from the init.

world variables:

  world x: 150e-6         # the x-dimension of the world space [m]
                          # at present the world is square with x = y.
                          # recommended range 50e-6 to 1000e-6 m

  cell radius: 5e-6       # radius of single cell [m]
                          # recommended range 3.5e-6 to 20e-6 m

  cell height: 5.0e-6     # the height of a cell in the z-direction [m]
                          # used in cell volume and surface area calculations
                          # recommended range 1.0e-6 to 10e-6 m

  cell spacing: 26.0e-9       # the spacing between cells [m]
                              # recommended 26.0e-9 m for animal cells
                              # 1.0e-6 for plant cells and animal cells with ecm

  lattice disorder: 0.8       # noise level for the lattice
                              # recommended range 0 to 0.9
                              # this randomizes lattice points from a
                              # square grid. If equal to 0 a perfect
                              # square grid is created.


  environmental volume: 100.0   # volume of the environmental space as a multiplier
                              # of total volume of the cell cluster.

  temperature: 310            # World temperature [K]

  search distance: 1.8        # distance to search for nearest neighbours
                              # relative to cell diameter
                              # min 1.1 max 3.5
                              # warning high search distances can produce
                              # extremely long simulation time

  gap junction surface area: 1.0e-3   # surface area of gap junctions as fraction of cell area (recommended range see table)

  voltage sensitive gj: True    # do the gj close with voltage difference between cells?

  gj voltage threshold: 20e-3    # cell-cell voltage at which gj close [V]
                                 # suggested range from 20 to 80e-3 V

  gj voltage window: 20e-3        # the range over which gj goes from open to shut
                                  # with the gj voltage threshold as midpoint [V]
                                  # suggested range from 5e-3 to 50e-3


# ----------------------------------------------------------------------------------------------------------------------
# GLOBAL INTERVENTIONS
# ----------------------------------------------------------------------------------------------------------------------
# Schedule changes to globally-applied simulation variables such as
# pump and gap junction function and environmental concentrations of ions.
# This can simulate the application of a pharmaceutical agent to block pumps
# or alter membrane ion channels.

# The following are global changes affecting the entire cluster

change K env:       # Change the environmental concentration of K+

  event happens: False      # turn the even on (True) or off (False)
  change start: 5.0           # sim time to start change [s]
  change finish: 25.0         # sim time to end change and return to original [s]
  change rate: 2.0            # rate of change [s]
  multiplier: 20            # factor to multiply base level

change Cl env:       # Change the environmental concentration of K+

  event happens: False      # turn the even on (True) or off (False)
  change start: 5.0           # sim time to start change [s]
  change finish: 25.0         # sim time to end change and return to original [s]
  change rate: 2.0            # rate of change [s]
  multiplier: 10             # factor to multiply base level

change Na env:       # Change the environmental concentration of K+

  event happens: False     # turn the even on (True) or off (False)
  change start: 1          # sim time to start change [s]
  change finish: 9        # sim time to end change and return to original [s]
  change rate: 1           # rate of change [s]
  multiplier: 5            # factor to multiply base level

change temperature:

  event happens: False      # turn the even on (True) or off (False)
  change start: 1           # sim time to start change [s]
  change finish: 9         # sim time to end change and return to original [s]
  change rate: 0.5            # rate of change [s]
  multiplier: 0.5           # factor to multiply base level

block gap junctions:     # block the gap junctions between cells

  event happens: False      # turn the even on (True) or off (False)
  change start: 2        # sim time to start change [s]
  change finish: 9       # sim time to end change and return to original [s]
  change rate: 1.0         # rate of change [s]
  random fraction: 100     # percentage of gap junctions randomly targeted

change ecm junctions:     # block the ecm junctions between cells

  event happens: False      # turn the even on (True) or off (False)
  change start: 1.0        # sim time to start change [s]
  change finish: 8.0       # sim time to end change and return to original [s]
  change rate: 1.0         # rate of change [s]
  multiplier: 1000.0           # factor to multiply base level + base level

block NaKATP pump:

  event happens: False      # turn the even on (True) or off (False)
  change start: 5           # sim time to start change [s]
  change finish: 25         # sim time to end change and return to original [s]
  change rate: 1.0            # rate of change [s]

block HKATP pump:

  event happens: False      # turn the even on (True) or off (False)
  change start: 1           # sim time to start change [s]
  change finish: 9         # sim time to end change and return to original [s]
  change rate: 1.0            # rate of change [s]

block VATP pump:

  event happens: False      # turn the even on (True) or off (False)
  change start: 1           # sim time to start change [s]
  change finish: 9         # sim time to end change and return to original [s]
  change rate: 1.0            # rate of change [s]


#-----------------------------------------------------------------------------------------------------------------------
# TISSUE DESIGNATION
#-----------------------------------------------------------------------------------------------------------------------
geometry defining bitmaps:

    use bitmap geometry control: True     # use bitmaps to control cluster geometry and tissue/boundary profiles?

    directory: geo/circle              # directory where geometry-defining bitmaps can be found

    number of bitmaps: 3          # total number of bitmaps to load

    bitmap 1:

        file: circle_base.png        # name of the first bitmap defining geometry

        designation: clipping   # 'clipping' for geometry mask, or name of an existing tissue or boundary profile

    bitmap 2:

        file: cut_hole.png        # name of the first bitmap defining geometry

        designation: hole   # 'clipping' for geometry mask, or name of an existing tissue or boundary profile

    bitmap 3:

        file: tissue.png        # name of the first bitmap defining geometry

        designation: tissue  # 'clipping' for geometry mask, or name of an existing tissue or boundary profile



default tissue name: base   # name of cells to which no profile is applied

base tissue properties:    # specify the base membrane diffusion constants below
                         # this is an easy way to control resting Vmem of cells
    Dm_Na: 1.0e-18       # Na+ membrane diffusion constant [m2/s]
    Dm_K: 15.0e-18       # K+ membrane diffusion constant [m2/s]
    Dm_Cl: 2.0e-18       # Cl- membrane diffusion constant [m2/s]
    Dm_Ca: 1.0e-18       # Ca2+ membrane diffusion constant [m2/s]
    Dm_H: 1.0e-18        # H+ membrane diffusion constant [m2/s]
    Dm_M: 1.0e-18        # M- membrane diffusion constant [m2/s]
    Dm_P: 0.0            # proteins membrane diffusion constant [m2/s]

    ecm diffusion factor: 1e-5     # amount to multiply free-diffusion constants by for ecm-ecm ion fluxes (default 1e-4)

number of tissue profiles: 0     # specify any number of profiles, which are given in the formats below

tissue profile 1:
    name: hole       # give your profile a name that will be used to apply the profile
    cell targets: 'bitmap'      #  'random##', 'boundary', 'all', 'bitmap', or list of inds
    designation: None    # special instructions for making the profile:'cavity' or 'cuts' (cavity specified in makeWorld)
    insular: False        # make tissue have gap junctions connecting within tissue and not between tissues

    Dm_Na: 1.0e-18       # Na+ membrane diffusion constant [m2/s]
    Dm_K: 15.0e-18       # K+ membrane diffusion constant [m2/s]
    Dm_Cl: 2.0e-18       # Cl- membrane diffusion constant [m2/s]
    Dm_Ca: 1.0e-18       # Ca2+ membrane diffusion constant [m2/s]
    Dm_H: 1.0e-18        # H+ membrane diffusion constant [m2/s]
    Dm_M: 1.0e-18        # M- membrane diffusion constant [m2/s]
    Dm_P: 0.0            # proteins membrane diffusion constant [m2/s]

    ecm diffusion factor: 1e-5    # multiplier for ecm diffusion

tissue profile 2:
    name: tissue       # give your profile a name that will be used to apply the profile
    cell targets: 'bitmap'     #  'random##', 'boundary', 'all', 'bitmap', or list of inds
    designation: None      # special instructions for making the profile:'cavity' or 'cuts'
    insular: False           # make tissue have gap junctions connecting within tissue and not between tissues

    Dm_Na: 2.0e-18       # Na+ membrane diffusion constant [m2/s]
    Dm_K: 15.0e-18       # K+ membrane diffusion constant [m2/s]
    Dm_Cl: 2.0e-18       # Cl- membrane diffusion constant [m2/s]
    Dm_Ca: 1.0e-18       # Ca2+ membrane diffusion constant [m2/s]
    Dm_H: 1.0e-18        # H+ membrane diffusion constant [m2/s]
    Dm_M: 1.0e-18        # M- membrane diffusion constant [m2/s]
    Dm_P: 0.0            # proteins membrane diffusion constant [m2/s]

    ecm diffusion factor: 1e-5    # multiplier for ecm diffusion

# specify a property to happen at a specific global (i.e. bounding box) boundary

number of boundary profiles: 0      # Note: boundary profiles only apply if simulating extracellular spaces

boundary profile 1:   # options include top = T, bottom = B, left = L, and right = R to specify the respective boundaries
    name: applied pos voltage
    boundary targets: L

boundary profile 2:
    name: applied neg voltage
    boundary targets: R

boundaries closed: False      # are outer boundaries closed to fluxes of ions ?
                              # NOTE: boundaries must be OPEN (closed == False) to allow for changes to
                              # global concentrations

#-----------------------------------------------------------------------------------------------------------------------
# TARGETED INTERVENTIONS
#-----------------------------------------------------------------------------------------------------------------------

# The following are scheduled changes that can be applied to one or more cells.
# First select how to apply the following changes to the cell cluster:


change Na mem:       # Change the membrane permeability to Na+

  event happens: False              # turn the even on (True) or off (False)
  change start: 2.0                # sim time to start change [s]
  change finish: 8.0               # sim time to end change and return to original [s]
  change rate: 0.5                 # rate of change [s]
  multiplier: 100.0                  # factor to multiply base level
  function: None                   # a temporal or spatial function to shape event: 'periodic','gradient_x', 'gradient_y'
  apply to: ['tissue']        # name(s) of the tissue profile(s) to apply it to

change K mem:       # Change the membrane permeability to K+

  event happens: False              # turn the even on (True) or off (False)
  change start: 2.0                   # sim time to start change [s]
  change finish: 8.0                 # sim time to end change and return to original [s]
  change rate: 1.0                    # rate of change [s]
  multiplier: 10.0                    # factor to multiply base level
  function: None                     # a temporal or spatial function to shape event: 'periodic','gradient_x', 'gradient_y'
  apply to: ['tissue']     # name(s) of the tissue profile(s) to apply it to

change Cl mem:      # Change the membrane permeability to Cl-

  event happens: False              # turn the even on (True) or off (False)
  change start: 2.0                  # sim time to start change [s]
  change finish: 8.0                 # sim time to end change and return to original [s]
  change rate: 1                    # rate of change [s]
  multiplier: 10                    # factor to multiply base level
  function: None                    # a temporal or spatial function to shape event: 'periodic','gradient_x', 'gradient_y'
  apply to: ['tissue']     # name(s) of the tissue profile(s) to apply it to

change Ca mem:       # Change the membrane permeability to Ca2+

  event happens: False              # turn the even on (True) or off (False)
  change start: 2.0                  # sim time to start change [s]
  change finish: 8.0                 # sim time to end change and return to original [s]
  change rate: 1                    # rate of change [s]
  multiplier: 10                    # factor to multiply base level
  function: None                    # a temporal or spatial function to shape event: 'periodic','gradient_x', 'gradient_y'
  apply to: ['tissue']     # name(s) of the tissue profile(s) to apply it to

produce IP3:        # Schedule cell production of IP3

  event happens: False              # turn the even on (True) or off (False)
  change start: 5                   # sim time to start IP3 production [s]
  change finish: 20                 # sim time to end IP3 production [s]
  change rate: 1                    # rate of production ramp up [s]
  multiplier: 1e-4                  # maximum rate of production [mol/(s*m3)]
  function: None                    # a temporal or spatial function to shape event: 'periodic','gradient_x', 'gradient_y'
  apply to: ['tissue']     # name(s) of the tissue profile(s) to apply it to

apply external voltage:             # apply external voltage to ecm spaces on the boundary
                                    # voltages can only be applied if extracellular spaces are simulated
    event happens: False            # turn the even on (True) or off (False)
    change start: 5.0                 # time event starts [s]
    change finish: 20.0               # time event finishes [s]
    change rate: 2.0                  # time to reach peak value [s]
    peak value: 0.5                   # peak value [V]
    function: None                   # a temporal or spatial function to shape event: 'periodic','gradient_x', 'gradient_y'
    apply to: ['applied pos voltage','applied neg voltage']     # user must specify two bound profiles, first + then -

cutting event:
    event happens: False
    cut time: 2.0
    apply to: 'hole'    # tissue profile to apply this to -- can only be one profile, no lists
    internal hole: False

function properties:        # set properties of functions defined in above

  periodic:

     frequency: 2       #  frequency of periodic signal [s]
     phase: 0           # phase of periodic signal

  gradient_x:

      slope: 1.0        # rate of change of gradient per unit x-dimension
      offset: 0         # offset to all gradient values

  gradient_y:

      slope: 1.0         # rate of change of gradient per unit x-dimension
      offset: 0         # offset to all gradient values


# ----------------------------------------------------------------------------------------------------------------------
# DYNAMIC ION CHANNELS
# ----------------------------------------------------------------------------------------------------------------------
# Specify which ion channels are expressed by cells in the cluster.
# At the moment, you can apply combos of channels to certain cells,
# but you can't apply different channels to different cells. This
# will be updated with introduction of tissue types in future versions.

voltage gated Na+:
    turn on: False                      # voltage gated sodium channel ?
    apply to: ['tissue']       # name(s) of the tissue profile(s) to apply it to

voltage gated K+:                       # voltage gated potassium channel ?
    turn on: False
    apply to: ['tissue']       # name(s) of the tissue profile(s) to apply it to

voltage gated Ca2+:                     # voltage gated calcium channel ?
    turn on: False
    apply to: ['tissue']         # name(s) of the tissue profile(s) to apply it to

calcium gated K+:                       # calcium gated potassium channel ?
    turn on: False
    apply to: ['tissue']         # name(s) of the tissue profile(s) to apply it to

Ca dynamics:                      # include full calcium dynamics in the situation?
    turn on: False               # this creates an endoplasmic reticulum (ER) in each cell and
    apply to: ['tissue']     # IP3 mediated calcium release from the ER
                                  # note this only works for an ion profile with Ca2+ ions
                                  # options True or False (case sensitive)

    include:

        calcium regulation: False             # let the IP3 receptor be co-regulated by Ca2+ levels?

        frequency modulation by IP3: False     # IP3 concentrations change frequency of Ca2+ oscillations?


# ----------------------------------------------------------------------------------------------------------------------
# RESULTS
# ----------------------------------------------------------------------------------------------------------------------
# Configure results viewing and saving options for simulations.

results options:


  turn all plots off: False      # This option allows you to turn all plots on/off
                                 # note this doesn't turn plot while solving off.
                                 # options True or False (case sensitive)

  plot while solving: True       # shows a continuously updating 2d plot of cell Vmems
                                 # while the sim run is computing
                                 # options True or False (case sensitive)

  save solving plot: False      # save the plot while solving figure
                                # as the sim progresses (as 300 dpi png
                                # in folder in the results directory)
                                # warning this can slow down simulations
                                # options True or False (case sensitive)

  automatically save plots: True     # autosave all still images (as 300 dpi pngs)
                                     # to the results directory
                                     # options True or False (case sensitive)

  create all animations: False     # use this setting to quickly toggle creation of all
                                  # animations. If False, no animations created. If
                                  # true, all animations created.
                                  # options True or False (case sensitive)

  save animations: True           # save all animations as png sequences in animation-specific folders
                                   # inside the results directory
                                   # options True or False (case sensitive)

  export data to file: True        # export all stored data for the plot cell to a
                                   # comma-delimited (csv) text file
                                   # options True or False (case sensitive)

  enumerate cells: False         # number the cells on 2D plots with their simulation index?
                                 # this can help to decide which cell you are interested in getting
                                 # specific data on (for single cell graphs plotted over time).
                                 # options True or False (case sensitive)
                                 # warning should not be used for world sizes over 200 um.

  plot cell index: 10              # State the cell index to use for single-cell time plots
                                  # the index of cells can be seen using enumerate cells feature.

  plot single cell graphs: True   # plot graphs of concentration and voltage for a single cell
                                  # (the plot cell) as a function of simulation time

  show cells: False                # if True, plots and animations show individual cells,
                                  # each displayed with color-coded data. If False,
                                  # plots and animations show data as interpolated over a 2D
                                  # surface so individual cells are not shown.
                                  # Note if working with a large cluster (>500 um) do not
                                  # show cells (set to False) as it will plot very slowly.
                                  # options True or False (case sensitive)

  overlay currents: True          # overlay electric current or concentration flux streamlines on 2d plotted data

  streamline density: 2.0         # for current plots, the density of streamlines. 0.5 to 5.0

  plot extracellular I: True      # for currents, if simululating extracellular spaces, plot
                                  # extracellular current if true, plot gap junction current if false

  plot environmental V: True     # plot voltage on enivronmental spaces -- useful if applying external voltage

  plot cutlines: True            # plot any scheduled cut-lines on the cell cluster plot

  plot masked geometry: False      # plot the geometry using the overal shape as a mask

  Vmem 2D:

    plot Vmem: True              # 2d plot of final vmem ?
    autoscale colorbar: True    # autoscale colorbar to min max of data set?
    max val: 10.0                # maximum colorbar value in mV
    min val: -60.0               # minimum colorbar value in mV

  Ca 2D:

    plot Ca: True                # 2d plot of final cell calcium ?
    autoscale colorbar: True    # autoscale colorbar to min max of data set?
    max val: 1000                 # maximum colorbar value in nmol/L
    min val: 0                    # minimum colorbar value in nmol/L

  IP3 2D:

    plot IP3: True               # 2d plot of final cIP3 ?
    autoscale colorbar: True     # autoscale colorbar to min max of data set?
    max val: 100                  # maximum colorbar value in umol/L
    min val: 0                    # minimum colorbar value, in umol/L

  Dye 2D:

    plot Dye: True               # 2d plot of voltage sensitive dye in cell collective?
    autoscale colorbar: True     # autoscale colorbar to min max of data set?
    max val: 1.5e-3                  # maximum colorbar value in umol/L
    min val: 0                     # minimum colorbar value in umol/L

  Vcell 2D:

    plot Vcell: False                # 2d plot of voltage in individual cells of the collective?
    autoscale colorbar: True       # autoscale colorbar to min max of data set?
    max val: 100                    # maximum colorbar value in mV
    min val: -100                   # minimum colorbar value in mV

  Efield 2D:

    plot Efield: True              # 2d plot of electric field
    data type: ECM                   # data type can be 'ECM' or 'GJ'
    overlay vector: True            # overlay a streamline plot of field direction?
    autoscale colorbar: True        # autoscale colorbar to min max of data set?
    max val: 900                   # maximum colorbar value in V/m
    min val: 0                      # maximum colorbar value in V/m

  Currents 2D:

    plot Currents: False               # 2d plot of net current flow in the collective?
    autoscale colorbar: True          # autoscale colorbar to min max of data set?
    max val: 150                    # maximum colorbar value [pA]
    min val: 0                        # minimum colorbar value [A]
    colormap: coolwarm                    # colorbar for the currents

  Vmem Ani:

    animate Vmem: True           # 2d animation of vmem with time?
    autoscale colorbar: True    # autoscale colorbar to min max of data set?
    max val: 10.0                # maximum colorbar value in mV
    min val: -80.0               # maximum colorbar value in mV

  Ca Ani:

    animate Ca2+: True           # 2d animation of cell calcium with time ?
    autoscale colorbar: True    # autoscale colorbar to min max of data set?
    max val: 1000                # maximum colorbar value in nmol/L
    min val: 0                   # minimum colorbar vlue in nmol/L

  IP3 Ani:

    animate IP3: True            # 2d animation of cIP3 with time?
    autoscale colorbar: True    # autoscale colorbar to min max of data set?
    max val: 100                 # maximum colorbar value in umol/L
    min val: 0                   # minimum colorbar value in umol/L

  Dye Ani:

    animate Dye: True            # 2d animation of voltage sensitive dye in cell collective with time?
    autoscale colorbar: True     # autoscale colorbar to min max of data set?
    max val: 1.5e-3                  # maximum colorbar value in umol/L
    min val: 0                    # minimum colorbar value in umol/L

  Vmem GJ Ani:

    animate Vmem with gj: True   # 2d animation of vmem with superimposed gj network showing current direction
    autoscale colorbar: True    # autoscale colorbar to min max of data set?
    max val: 50.0                # maximum colorbar value in mV
    min val: -70.0               # minimum colorbar value in mV

  Vcell Ani:

    animate Vcell: True           # 2d animation of voltage in individual cells of the collective?
    autoscale colorbar: True     # autoscale colorbar to min max of data set?
    max val: 10                  # maximum colorbar value in mV
    min val: -70                 # minimum colorbar value in mV

  Current Ani:

    animate current: True       # 2d animation of current in individual cells of the collective?
    autoscale colorbar: True    # autoscale colorbar to min max of data set?
    max val: 150                # maximum colorbar value [pA]
    min val: 0                  # minimum colorbar value [pA]

  Efield Ani:
    animate Efield: True        # 2d animation of electric field in extracellullar matrix
    data type: ECM                  # data type can be 'ECM' or 'GJ'
    overlay vector: True            # overlay a streamline plot of field direction?
    autoscale colorbar: True    # autoscale colorbar to min max of datat set?
    max val: 1500               # max colorbar value [V/m]
    min val: 0                  # min colorbar value [V/m]


  default colormap: coolwarm   # Specify the colormap to be used for main data on all graphs.
                               # options include
                               # coolwarm, hot, rainbow, jet, Blues, Greens, bone
                               # to reverse a colormap add _r to the name (e.g. cm.jet_r)
                               # for all options please see
                               # http://matplotlib.org/examples/color/colormaps_reference.html

  gj colormap: bone_r            # colormap used for plotting gj currents on top of default colormap

# ----------------------------------------------------------------------------------------------------------------------
# INTERNAL USE ONLY
# ----------------------------------------------------------------------------------------------------------------------
# While the following settings are available to you, please avoid editing them.
# Simulation instability may result from poor choice of these more sensitive parameters.
# BETSE requires these parameters for its internal use only.

gated ion channel options:   # changing these will alter network dynamics -- but do so with caution!

    voltage gated Na:

        max Dmem Na: 1e-15        # maximum Na+ membrane diffusion coefficient channel open [m2/s]  1e-16
        activation v: -50e-3      # voltage threshold above which vgNa is activated [V]
        inactivation v: 20e-3     # voltage threshold above which vgNa is inactivated [V]
        deactivation v: -52e-3    # voltage threshold below which vgNa is deactivated [V]
        live time: 5e-3           # time activated state can exist (trans to inactivated) [s]
        dead time: 10e-3          # refractory time vgNa remains inactivated [s]

    voltage gated K:

        max Dmem K: 5e-16           # maximum K+ membrane diffusion coefficient channel open [m2/s] 5e-16
        activation v: -20e-3        # voltage threshold above which vgK is activated [V]
        deactivation v: -70e-3      # voltage threshold below which vgK is deactivated [V]
        live time: 10e-3            # time activated state can exist [s]

    voltage gated Ca:

        max Dmem Ca: 1.0e-15        # maximum Ca2+ membrane diffusion coefficient channel open [m2/s]
        activation v: -40e-3        # voltage threshold above which vgK is activated [V]
        inactivation v: 40e-3       # voltage threshold above which vgCa is inactivated [V]
        inactivation Ca: 1.0e-3     # level of cytosolic Ca2+ above which vgCa is inactivated [mmol/L]
        reactivation Ca: 200e-6     # level of cytosolic Ca2+ below which vgCa is un-inactivated [mmol/L]

    calcium gated K:

        max Dmem K: 5.0e-16         # maximum K+ membrane diffusion coefficient open channel [m2/s]
        hill K_half: 7.5e-4         # half-maxium activity coefficient for Hill function [mmol/L]
        hill n: 3                   # Hill function coefficient


calcium dynamics parameters:

    IP3 frequency modulation level: 0.8     # How strongly does IP3 induce frequency modulation
                                            # of Ca2+ oscillations ?
                                            # Range 0 to 0.9, higher more effect

    ER max: 5.0e-15             # Maximum diffusion coefficient of open ER channel [m2/s]
    ER burst: 0.8               # ER Ca2+ level at which ER opens [mmol/L]
    ER close: 0.5               # ER Ca2+ level at which ER closes [mmol/L]

    IP3 K half: 1e-3        # Concentration of IP3 at which ER Ca channel is half closed [mmol/L]
                            # Based on a Hill function.
    IP3 hill n: 3.4         # Hill function n coefficient

    CICR Ca peak: 500.0e-6      # Ca induced Ca release peak emission with cytosolic calcium [mmol/L]
    CICR Ca width: 80.0e-6      # Ca induced Ca release width of Ca-regulated emission curve [mmol/L]

    ER_vol:  0.1               # volume of endoplasmic reticulum as a fraction of cell volume
    ER_sa:  1.0                # surface area of endoplasmic reticulum as a fraction of cell surface area

    Dm_IP3: 1.0e-18             # membrane diffusion constant of IP3 [m2/s]
    Do_IP3: 1.0e-5              # IP3 free diffusion constant [m2/s]
    z_IP3: -3                   # charge (oxidation state) of IP3
    cIP3_to: 1e-6               # initial value of IP3 in all cells [mmol/L]
    cIP3_to_env: 1e-6           # initial value of IP3 in environment [mmol/L]


internal parameters:

  # default free diffusion constants (cytoplasmic)

  Do_Na:  1.33e-9       # free diffusion constant sodium [m2/s]
  Do_K:  1.96e-9        # free diffusion constant potassium [m2/s]
  Do_Cl:  2.03e-9       # free diffusion constant chloride [m2/s]
  Do_Ca:  1.0e-10        # free diffusion constant calcium [m2/s]
  Do_H:  2.5e-9         # free diffusion constant hydrogen [m2/s]
  Do_M:  1.0e-9         # free diffusion constant mystery anchor ion [m2/s]
  Do_P:  5.0e-10        # free diffusion constant protein [m2/s]

  # pump parameters

#  alpha_NaK:  1.0e-8   # maximum rate constant sodium-potassium ATPase per unit surface area [m/mol*s]
#  halfmax_NaK:  6      # the free energy level at which pump activity is halved [kJ]
#  slope_NaK:  6        # the energy window width of the NaK-ATPase pump [kJ]

  alpha_NaK:  5.0e-8   # maximum rate constant sodium-potassium ATPase per unit surface area [m/mol*s]
  halfmax_NaK:  6      # the free energy level at which pump activity is halved [kJ]
  slope_NaK:  6        # the energy window width of the NaK-ATPase pump [kJ]

  alpha_Ca:  1.0e-5    # pump rate for calcium ATPase in membrane per unit surface area [m/mol*s]
  alpha_CaER:  1e-5  # pump rate for calcium ATPase in endoplasmic reticulum [m/mol*s]
  halfmax_Ca:  6       # the free energy level at which pump activity is halved [kJ]
  slope_Ca:  6         # the energy window width of the NaK-ATPase pump [kJ]

  alpha_HK:  5.0e-2    # pump rate for the H-K-ATPase per unit surface area [m/mol*s]
  halfmax_HK:  6       # the free energy level at which pump activity is halved [kJ]
  slope_HK:  6         # the energy window width of the NaK-ATPase pump [kJ]

  alpha_V:  1.5     # pump rate for the plasma membrane V-ATPase per unit surface area [m/mol*s]
  halfmax_V:  6       # the free energy level at which pump activity is halved [kJ]
  slope_V:  6         # the energy window width of the NaK-ATPase pump [kJ]


# Configuration file version that this file conforms to. For reliable
# comparability, this is stored as a string rather than float scalar.
version: "0.1"
